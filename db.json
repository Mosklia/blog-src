{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/imgs/base/avatar.jpg","path":"imgs/base/avatar.jpg","modified":0,"renderable":0},{"_id":"themes/arknights/source/404.html","path":"404.html","modified":0,"renderable":1},{"_id":"themes/arknights/source/README.md","path":"README.md","modified":0,"renderable":1},{"_id":"themes/arknights/source/favicon.ico","path":"favicon.ico","modified":0,"renderable":1},{"_id":"themes/arknights/source/css/arknights.css","path":"css/arknights.css","modified":0,"renderable":1},{"_id":"themes/arknights/source/css/arknights.sass","path":"css/arknights.sass","modified":0,"renderable":1},{"_id":"themes/arknights/source/css/caogao.txt","path":"css/caogao.txt","modified":0,"renderable":1},{"_id":"themes/arknights/source/css/gitalk.css","path":"css/gitalk.css","modified":0,"renderable":1},{"_id":"themes/arknights/source/font/BenderLight.ttf","path":"font/BenderLight.ttf","modified":0,"renderable":1},{"_id":"themes/arknights/source/font/JetBrainsMono-Regular.woff2","path":"font/JetBrainsMono-Regular.woff2","modified":0,"renderable":1},{"_id":"themes/arknights/source/img/WeChat.png","path":"img/WeChat.png","modified":0,"renderable":1},{"_id":"themes/arknights/source/img/Alipay.png","path":"img/Alipay.png","modified":0,"renderable":1},{"_id":"themes/arknights/source/img/bg.jpg","path":"img/bg.jpg","modified":0,"renderable":1},{"_id":"themes/arknights/source/img/bk.jpg","path":"img/bk.jpg","modified":0,"renderable":1},{"_id":"themes/arknights/source/img/logo.png","path":"img/logo.png","modified":0,"renderable":1},{"_id":"themes/arknights/source/js/arknights.js","path":"js/arknights.js","modified":0,"renderable":1},{"_id":"themes/arknights/source/js/arknights.ts","path":"js/arknights.ts","modified":0,"renderable":1},{"_id":"themes/arknights/source/js/tsconfig.json","path":"js/tsconfig.json","modified":0,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"1fb83352f8c1713dc1629d9a0586827ce228cf93","modified":1630930733713},{"_id":"source/_posts/archlinux-ins.md","hash":"c167f6464fb595623b8e6e6b8408be4ec2d34f25","modified":1631015005307},{"_id":"source/_posts/archlinux-softwares.md","hash":"011577c58b728aff90b0a5d79407eab3417422aa","modified":1631015934228},{"_id":"source/_posts/hello-world.md","hash":"c83004cb9150ac02a481f7448cdef32c5a5066ec","modified":1630989340408},{"_id":"source/about/index.md","hash":"d0b9b9b862f6e306398e85554737a26de2dfeb19","modified":1630930733713},{"_id":"source/imgs/base/avatar.jpg","hash":"50c4e542227ae71ec5e809c6a9e3371cbe88873d","modified":1630930733717},{"_id":"themes/arknights/.editorconfig","hash":"3036325288c2bdf484691e761250264acdf9916c","modified":1630988975048},{"_id":"themes/arknights/.gitignore","hash":"a94ca78ad4bcf0b165e74623cea184ae90567432","modified":1630988975048},{"_id":"themes/arknights/LICENSE","hash":"03d108b0df7ddcb5eb5f6ddf4345a0d448d8d4ee","modified":1630988975048},{"_id":"themes/arknights/README.md","hash":"bc27257af18b215103add1c4f3cbf67377ab5021","modified":1630988975048},{"_id":"themes/arknights/README-Ja.md","hash":"82ed87cf9ad31d27d5551a3f160988fa2cf74aad","modified":1630988975048},{"_id":"themes/arknights/_config.yml","hash":"0f0cb02da8bb469379614cb6896cb8e25f60d633","modified":1630988975048},{"_id":"themes/arknights/package.json","hash":"8a1d1fde1bdab6900168bae8548d215a5c3ec7ef","modified":1630988975048},{"_id":"themes/arknights/layout/category.pug","hash":"5c9ec98c57b4001b62ab29a03362908b7b9a1424","modified":1630988975048},{"_id":"themes/arknights/layout/archive.pug","hash":"d2e11f13cbd0b28fcf91139707959e352f167239","modified":1630988975048},{"_id":"themes/arknights/layout/index.pug","hash":"c0e1a8c6e2dc2075e9cb286ad53ca12a9a6d450d","modified":1630988975048},{"_id":"themes/arknights/layout/page.pug","hash":"4c618a08eb86c9ac97bfd66b457c95a9b235b04e","modified":1630988975048},{"_id":"themes/arknights/layout/tag.pug","hash":"fd953eb8ef7c64dc97a623113daa564ac6dcba3b","modified":1630988975048},{"_id":"themes/arknights/layout/post.pug","hash":"6bbef3e03cfb1d53259feed36641ca61551d2f6c","modified":1630988975048},{"_id":"themes/arknights/source/404.html","hash":"72ac49fc2b61ad4fac410e856852f1d7bf1628d8","modified":1630988975048},{"_id":"themes/arknights/source/README.md","hash":"ac66a70be3de7750496f27490f7ffbe9bda18b3a","modified":1630988975048},{"_id":"themes/arknights/source/favicon.ico","hash":"10adaea9ed613e955bf761962db4af2931cf97ee","modified":1630988975048},{"_id":"themes/arknights/layout/includes/recent-posts.pug","hash":"d9de043f14417fef1179c81ba24f6d9fe51bc4bc","modified":1630988975048},{"_id":"themes/arknights/layout/includes/layout.pug","hash":"c400a7fbd90fb8e3abd8125c3ce01cd753c8c703","modified":1630988975048},{"_id":"themes/arknights/source/css/arknights.css","hash":"979fda4782ea723b40f86d1ef214aae896f59645","modified":1630988975048},{"_id":"themes/arknights/source/css/caogao.txt","hash":"dfe2aa140a900bcdaa331e46aede04690a5f3d84","modified":1630988975048},{"_id":"themes/arknights/source/css/arknights.sass","hash":"20cbcec0bf45016b02363f9c0016cc42b6bfff59","modified":1630988975048},{"_id":"themes/arknights/source/css/gitalk.css","hash":"f1841afd661779829c4e0f7a9efdc220285765c5","modified":1630988975048},{"_id":"themes/arknights/source/font/JetBrainsMono-Regular.woff2","hash":"23f70e45de896a9e12798db1d1f1ce5197f33ca4","modified":1630988975051},{"_id":"themes/arknights/source/img/WeChat.png","hash":"46b03d7f8800e6b9c4bb47a37ab7afadd798706f","modified":1630988975051},{"_id":"themes/arknights/source/img/Alipay.png","hash":"529d851d55de77e40cedf39620e34be11e3fd710","modified":1630988975051},{"_id":"themes/arknights/source/img/bg.jpg","hash":"463cfbcfd68886be8564a532c38cb32d180edba4","modified":1630988975051},{"_id":"themes/arknights/source/img/logo.png","hash":"50cb3653f6406b4e936aa0ba21dc573928016a94","modified":1630988975058},{"_id":"themes/arknights/source/js/arknights.js","hash":"890a7e3acc1975de32825df5be3106466c4b7f35","modified":1630988975058},{"_id":"themes/arknights/source/js/arknights.ts","hash":"55ed7f98cf9b500112717096a1b5c8bc468fdc89","modified":1630988975058},{"_id":"themes/arknights/source/js/tsconfig.json","hash":"3796c926a845a2fde39330645729bc5c2a4754e3","modified":1630988975058},{"_id":"themes/arknights/source/css/sass/_base_style.sass","hash":"dd599da1e4eb702da5dfae76a949ba4ef246811d","modified":1630988975048},{"_id":"themes/arknights/source/css/sass/_class_style.sass","hash":"0951a3aafcc9aa6a6deabf8f8a5d173ee85297b5","modified":1630988975048},{"_id":"themes/arknights/source/css/sass/_flex_layout.sass","hash":"7beb4f52845936bc8f7191c70c66ad3988637c2e","modified":1630988975048},{"_id":"themes/arknights/source/css/sass/_font.sass","hash":"5c8f311505d56f59c8f677a5f96efed2498d212d","modified":1630988975048},{"_id":"themes/arknights/source/css/sass/layout/__main.sass","hash":"a0f41ef2f4bf7e7b79885c4f553c2f67d2a5137d","modified":1630988975048},{"_id":"themes/arknights/source/css/sass/layout/__main_article.sass","hash":"b7d152a8abfc199da4c36e7fe59a327d9c614023","modified":1630988975048},{"_id":"themes/arknights/source/css/sass/layout/__main_aside.sass","hash":"46dbd889a353649d9bda8424d2773c805e11e405","modified":1630988975048},{"_id":"themes/arknights/source/css/sass/layout/_archive.sass","hash":"5646ec7c01f6d7575b6ce59cdcbf0a4187b37551","modified":1630988975048},{"_id":"themes/arknights/source/css/sass/layout/_post.sass","hash":"115b2878223893d493d1e613402670ca60c0edba","modified":1630988975048},{"_id":"themes/arknights/support.jpg","hash":"9ca7c5e40123bc51da82f3a01d13c32ab2b5edc3","modified":1630988975058},{"_id":"themes/arknights/source/font/BenderLight.ttf","hash":"5b500dbf6f2b95adff8861c76692562d70ca7b14","modified":1630988975051},{"_id":"themes/arknights/demo.png","hash":"381cacd14c50017155067930b33ece892c27cd32","modified":1630988975048},{"_id":"themes/arknights/source/img/bk.jpg","hash":"2146714c7429ca673a38469e7f74a412dc0ef09e","modified":1630988975058},{"_id":"public/about/index.html","hash":"2d9abc981d7a039a866631bf6df1be02df651c29","modified":1631016056323},{"_id":"public/archlinux-softwares/index.html","hash":"442a33e534c92ca4a824b3da85832005ade5aa77","modified":1631016056323},{"_id":"public/hello-world/index.html","hash":"b67b9e53247a72f0581ca97f9bc07966c729f34d","modified":1631016056323},{"_id":"public/archives/index.html","hash":"59807aaebb67ebdc96aca7897e9801f1116ed36f","modified":1631016056323},{"_id":"public/archives/2021/index.html","hash":"fc0040b979e975ddf5a50c3a970383f0fd196716","modified":1631016056323},{"_id":"public/archives/2021/09/index.html","hash":"9c708d52c6aac6e56733e49c9219293a958b0724","modified":1631016056323},{"_id":"public/categories/调教电脑/index.html","hash":"5345ce58f4c40f82d2bbd5dd7a2f57f3b53e55c9","modified":1631016056323},{"_id":"public/tags/Linux/index.html","hash":"e8c090e85ad4539d2d76b701168d6eb3b3a97def","modified":1631016056323},{"_id":"public/index.html","hash":"4bd49a0933568fa4c260199402efd263f7634230","modified":1631016056323},{"_id":"public/tags/ArchLinux/index.html","hash":"55bae41a10c43400d71671327a5f6c7ac4841afd","modified":1631016056323},{"_id":"public/tags/双系统/index.html","hash":"53741dcb447cac2edfd559a77d80a7e2ab3e0805","modified":1631016056323},{"_id":"public/tags/软件/index.html","hash":"c58fe8241a8f3c9a2929fcef271e27ad0a1cd4e9","modified":1631016056323},{"_id":"public/archlinux-ins/index.html","hash":"47040cd8b10be0455d4c87352e7363c6a1c3db99","modified":1631016056323},{"_id":"public/CNAME","hash":"1fb83352f8c1713dc1629d9a0586827ce228cf93","modified":1631016056323},{"_id":"public/imgs/base/avatar.jpg","hash":"50c4e542227ae71ec5e809c6a9e3371cbe88873d","modified":1631016056323},{"_id":"public/css/arknights.sass","hash":"20cbcec0bf45016b02363f9c0016cc42b6bfff59","modified":1631016056323},{"_id":"public/favicon.ico","hash":"10adaea9ed613e955bf761962db4af2931cf97ee","modified":1631016056323},{"_id":"public/img/bg.jpg","hash":"463cfbcfd68886be8564a532c38cb32d180edba4","modified":1631016056323},{"_id":"public/css/caogao.txt","hash":"dfe2aa140a900bcdaa331e46aede04690a5f3d84","modified":1631016056323},{"_id":"public/img/Alipay.png","hash":"529d851d55de77e40cedf39620e34be11e3fd710","modified":1631016056323},{"_id":"public/img/logo.png","hash":"50cb3653f6406b4e936aa0ba21dc573928016a94","modified":1631016056323},{"_id":"public/font/JetBrainsMono-Regular.woff2","hash":"23f70e45de896a9e12798db1d1f1ce5197f33ca4","modified":1631016056323},{"_id":"public/img/WeChat.png","hash":"46b03d7f8800e6b9c4bb47a37ab7afadd798706f","modified":1631016056323},{"_id":"public/font/BenderLight.ttf","hash":"5b500dbf6f2b95adff8861c76692562d70ca7b14","modified":1631016056323},{"_id":"public/404.html","hash":"72ac49fc2b61ad4fac410e856852f1d7bf1628d8","modified":1631016056323},{"_id":"public/README.html","hash":"16c7c0b44736434dfc0026fb83b67b6a4898aab0","modified":1631016056323},{"_id":"public/js/arknights.js","hash":"40e261e0ac8ada9724e6e530f821a5863e217d6d","modified":1631016056323},{"_id":"public/js/tsconfig.json","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1631016056323},{"_id":"public/css/gitalk.css","hash":"f1841afd661779829c4e0f7a9efdc220285765c5","modified":1631016056323},{"_id":"public/css/arknights.css","hash":"979fda4782ea723b40f86d1ef214aae896f59645","modified":1631016056323},{"_id":"public/img/bk.jpg","hash":"2146714c7429ca673a38469e7f74a412dc0ef09e","modified":1631016056323}],"Category":[{"name":"调教电脑","_id":"ckta0ujxs0003hs3l5c0pgzf5"}],"Data":[],"Page":[{"title":"About","date":"2021-09-05T03:42:01.000Z","_content":"To be continued...","source":"about/index.md","raw":"---\ntitle: about\ndate: 2021-09-05 11:42:01\n---\nTo be continued...","updated":"2021-09-05T03:42:01.000Z","path":"about/index.html","comments":1,"layout":"page","_id":"ckta0ujxk0000hs3lcd3a3ixw","content":"<p>To be continued…</p>\n","site":{"data":{}},"excerpt":"","more":"<p>To be continued…</p>\n"}],"Post":[{"title":"ArchLinux/Windows 双系统安装记录","date":"2021-09-06T07:01:37.000Z","_content":"\n离我第一次入坑 [ArchLinux](https://wiki.archlinux.org/title/Main_page_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 已有将近三年之久，期间我已经重装 Arch 不下十次了，但是却一直没有记录自己是怎么装的。正好，这次我的笔记本拿去维修了，维修点表示需要重装系统，这意味着本子拿回来之后，我得重装我的 Arch，我也借此机会，记录一下自己 Arch 的重装过程。\n<!-- more -->\n\n# 准备工作\n\n**特别提醒**：对于双系统玩家，强烈建议先安装 Windows，再去安装 Linux。\n\n需要准备以下材料：\n\n- 一台电脑（废话）；\n- 网络连接（本文采用无线网络）；\n- ArchLinux 启动盘一枚（我用的是 USB 启动介质）；\n    - 听到 @dingyx99 大佬介绍了一个东西叫做 [Ventory](https://www.ventoy.net/cn/index.html)，可以不需要另外弄启动盘，直接在电脑划出一个分区就行了，后面试试。\n- 一台具有网络浏览器的设备，方便在安装的时候查看 [ArchWiki](https://wiki.archlinux.org)上的[攻略](https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87))；\n    - 非必需，玩得转的童鞋也可以考虑按照攻略上的说法，使用安装环境的[Lynx](https://lynx.invisible-island.net/lynx_help/Lynx_users_guide.html)来浏览攻略。\n\n同时（双系统玩家）不要忘记在 Windows 下用系统自带的“磁盘管理”工具提前为 Linux 准备好一块空白分区（不要格式化）。\n\n# 安装基本系统\n\n这一部分的内容，基本按照 [ArchWiki](https://wiki.archlinux.org)上的[攻略](https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 来做即可。\n\n## 进入 Live 环境\n\n插入安装介质，并在电脑**刚刚按下开机键**的时候设法进入启动菜单，选中你的安装介质，按回车。  \n例如：我的笔记本是 ROG 的幻 14，安装介质是一枚金士顿的 U 盘，我就在开机键按下之后，屏幕刚刚开始显示败家眼的图标时按下 Esc 键（这个键对于不同设备可能不一样）进入启动菜单。  \n注意：对于 Windows 10/11 用户，如果电脑屏幕下半部分出现了几个圆点转圈圈，那么恭喜你，等着 Windows 开机然后重启吧（悲\n\n进入安装介质以后，会提示选择引导加载程序，直接默认（第一个）选项 `Arch Linux install medium` 回车就好。如果屏幕闪过大量文字后，清屏，显示一些 `Arch Linux...` 开头，`root@archiso ~ #` 结尾且后面有一个光标闪烁，恭喜你成功启动到 Live 环境。\n\n## 检查引导模式\n\n输入以下内容：\n\n```sh\nls /sys/firmware/efi/efivars\n```\n\n如果命令正常输出了目录下的东西（可能会很多，占满整个屏幕），那么你的系统就是以 UEFI 模式引导的。否则，如果输出诸如 `No such file or directory` 之类的错误信息，你的系统可能是以 BIOS 等其他模式引导的。  \n我的电脑下这个命令正常输出，因此判定我的系统以 UEFI 模式引导。下文的所有步骤，均基于这个结果来操作。\n\n## 连接到互联网\n\n幻 14 似乎没有网线接口，因此这里直接用无线网络\\~  \n使用 [iwd](https://wiki.archlinux.org/title/Iwd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 来连接到网络。输入 `iwctl`，如果屏幕显示 `[iwd]#` 则正常进入 iwd 的交互界面。输入 `device list`，即可查看所有可用的网络设备。我这里显示只有一个无线网卡 `wlan0`。下文中，将使用 `<device>`表示在这一步中你选用的无线设备。  \n输入 `station <device> scan` 以使设备扫描可用的网络，输入 `station <device> get-networks` 来获取周围可用的 WiFi 的名称。选取你所希望使用的那个 WiFi，其名称记为 `<SSID>`，输入 `station <device> connect <SSID>`，并输入密码（如果有），即可连接到 WiFi，然后按 Ctrl-D 退出 iwd。  \n建议在退出 iwd 之后使用 `ping` 验证一下网络连接：输入 `ping <URL> -c 3`，其中 `<URL>` 是你可以正常访问的网络的网址（不要带上 `http://` 或是 `https://`），如果输出包含形如 `xx bytes from xxx: icmp_seq=xxx ttl=xxx time=xxx` 的内容，说明网络连接正常，可以进入下一步骤。\n\n## 更新系统时间\n\n输入 `timedatectl set-ntp true`，并按下回车。\n\n## 建立硬盘分区\n\n建议事先阅读[官方教程的相关内容](https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%BB%BA%E7%AB%8B%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA)来了解大致信息。\n\n**风险警告**：此步骤的误操作，可能导致电脑无法进入系统或者 Windows 系统及数据丢失等严重后果，请仔细阅读官方教程，并查阅其他资料，确保你知道自己在做什么！\n\n输入 `lsblk` 可以查看各个存储设备和硬盘分区的简要情况，输入 `fdisk -l` 可以查看更加详细的内容。通过输出内容中各个分区/设备的大小，应该可以大致判断各个存储设备及其分区和其名称的对应关系。忽略 `rom`，`loop` 或者 `airoot` 结尾的设备，在其中找到你给 Linux 预留的空白存储空间，找到它对应的设备（例如，我的叫做`/dev/nvme0n1`），记为 `<disk>`，并留意其中是否已经包含一个类型为 `EFI System` 的分区（似乎 Windows 一般会自动创建这个分区）。  \n输入 `fdisk <disk>`，输入 `n` 来利用预留的空白存储空间创建一个新的分区，Partition number 和 First sector 直接使用默认数值即可，Last sector 默认会用完剩下全部的可用空间（你也可以使用`+xK,M,G,T,P`来手动指定大小），然后会提示该分区的类型。如果不是 `Linux filesystem` 请输入 `t`，然后输入刚刚新建的分区的编号，最后输入`20`，将其类型改变为 `Linux filesystem`，输入 `w` 来保存刚刚的修改，并退出 fdisk。\n\n## 格式化并挂载分区\n\n**风险警告**：此步骤的误操作，可能导致电脑无法进入系统或者 Windows 系统及数据丢失等严重后果，请仔细阅读官方教程，并查阅其他资料，确保你知道自己在做什么！\n\n找到刚刚用 fdisk 新建的分区（输入 `fdisk -l`，找到 `Linux filesystem` 类型的那个分区），其名字记为 `<part>`（我的电脑上，它是 `/dev/nvme0n1p7`），输入 `mkfs.ext4 <part>` 来格式化它。  \n然后输入 `mount <part> /mnt` 来挂载它，并找到上一节中提到的类型为 `EFI System` 的分区（记为 `<efi-part>`，在我的电脑上它是 `/dev/nvme0n1p1`），依次输入 `mkdir /mnt/boot` 和 `mount <efi-part> /mnt/boot`。\n\n## 安装系统到硬盘\n\n### 更换软件包管理器的下载源\n\n编辑文件 `/etc/pacman.d/mirrorlist`（新手推荐使用命令 `nano /etc/pacman.d/mirrorlist`），按照[TUNA 镜像站的说明](https://mirrors.tuna.tsinghua.edu.cn/help/archlinux/)，将 `Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch` 添加到刚刚的文件顶端（使用 nano 的话，直接把这段代码输入进去，然后按一下回车，Ctrl-O 保存，Ctrl-X 退出）。\n\n### 安装系统及软件到硬盘\n\n输入以下命令：\n\n```sh\npacstrap /mnt linux linux-firmware base iwd networkmanager nano grub efibootmgr os-prober ntfs-3g sudo\n```\n\n然后耐心等待软件包安装完成。\n\n## Fstab\n\n输入以下命令：\n\n```sh\ngenfstab -U /mnt >> /mnt/etc/fstab\n```\n\n然后再输入以下命令，查看生成文件是否正确：\n\n```sh\ncat /mnt/etc/fstab\n```\n\n## 进入新系统\n\n输入以下命令：\n\n```sh\narch-chroot /mnt\n```\n\n## 设置时区\n\n依次输入以下命令：\n\n```sh\nln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nhwclock --systohc\n```\n\n## 本地化\n\n**提示**：本步骤将会影响以后系统能否使用中文、会不会乱码等与本地化相关的事情。\n\n输入命令 `nano /etc/locale.gen`，然后搜索，并去掉以下内容前的`#`：\n\n```plain\nen_US.UTF-8\nen_SG.UTF-8\nzh_CN.UTF-8\nzh_CN.GBK\nzh_TW.UTF-8\n```\n\n**提示**：nano 中搜索的快捷键是 Ctrl-W。\n\n然后按 Ctrl-O 保存，Ctrl-X 退出，输入以下命令：\n\n```sh\nlocale-gen\necho \"LANG=en_SG.UTF-8\" >> /etc/locale.conf\n```\n\n## 网络配置\n\n选择一个你喜欢的主机名，记为`<hostname>`，然后执行命令：`echo <hostname> >> /etc/hostname`。  \n编辑 `/etc/hosts`（`nano /etc/hosts`），输入以下内容：\n\n```plain\n127.0.0.1   localhost\n::1         localhost\n127.0.1.1   <hostname>\n```\n\n按照官方教程的说法，我们需要在此时完成剩余的网络配置，包括安装软件和进行网络配置。而我们已经在[安装系统及软件到硬盘](#安装系统及软件到硬盘)这步完成了软件安装，且 NetworkManager 无法在此时完成配置，因此直接跳过，至下一步骤。\n\n## 修改 Root 密码\n\n默认的 Root 密码是随机生成的，在此我们需要手动更改，否则退出 Live 环境以后，我们将无法登录至 Root 账户（对于没有新建其他账户的电脑，这意味着无法进入系统）。  \n使用以下命令，按照提示修改 Root 密码（放心，不需要猜出原来的那个随机的密码）：\n\n```sh\npasswd\n```\n\n**警告**：如果比尔知道电脑的 Root 密码，那么理论上他可以对这台电脑做任何事，因此请保证你的 Root 密码有一定强度（但不要让你自己都记不住：稍后我们还要用）。\n\n## 安装引导程序\n\n**警告**：这个步骤至关重要，没能正确安装/配置引导程序可能导致 Linux，甚至可能是 Windows 系统无法启动。\n\n我使用 [GRUB 2](https://wiki.archlinux.org/title/GRUB_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 作为引导程序。它的依赖程序已经在[安装系统及软件到硬盘](#安装系统及软件到硬盘)中安装完成。执行以下命令来将 GRUB 安装到 EFI 分区：\n\n```sh\ngrub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB\n```\n\n如果提示 `No error reported.` 则安装正常。\n\n然后编辑文件 `/etc/default/grub` 并在文件结尾加上一行以下内容（来让 GRUB 探测 Windows 的存在）：\n\n```plain\nGRUB_DISABLE_OS_PROBER=false\n```\n\n然后运行以下命令生成 GRUB 主配置文件：\n\n```sh\ngrub-mkconfig -o /boot/grub/grub.cfg\n```\n\n## 重启\n\n按 Ctrl-D 退出新安装的系统，然后输入 `reboot`。不要忘记移除安装介质和在电脑启动的时候修改/选用正确的启动条目。  \n重启后，输入账户名：`root` 和刚刚修改的 Root 密码即可登录到新系统。\n\n至此，一个基本的 ArchLinux 操作系统就安装完成了——除了没有网络连接，以及图形化界面的支持。这些问题，我们将稍后逐步解决。\n\n# 配置新系统\n\n## 用户\n\n日常直接使用 Root 账户是极其危险的一件事，因此我们需要创建普通用户来使用 ArchLinux。\n\n### 新建用户\n\n选择一个你喜欢的名字，记为`<username>`。  \n创建用户（并为其创建主文件夹）：\n\n```sh\nuseradd -m <username>\n```\n\n然后修改其密码：\n\n```sh\npasswd <username>\n```\n\n### 修改权限\n\n将用户加入群组 `wheel`：\n\n```sh\nusermod -aG wheel <username>\n```\n\n然后允许该用户使用 `sudo`：首先运行命令`EDITOR=nano visudo`，然后找到行`# %wheel ALL=(ALL) ALL`，去掉前面的 `#`，保存，退出 nano。\n\n## 连接到网络\n\n使用 [NetworkManager](https://wiki.archlinux.org/title/NetworkManager_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87))：首先启用相关的系统服务：\n\n```sh\nsystemctl start NetworkManager.service\nsystemctl enable NetworkManager.service\n```\n\n然后查找附近的 WiFi：\n\n```sh\nnmcli device wifi list\n```\n\n假设要连接的 WiFi 名称为 `<SSID>`，密码为 `<password>`，连接至 WiFi：\n\n```sh\nnmcli device wifi connect <SSID> password <password>\n```\n\n或者该 WiFi 没有密码：\n\n```sh\nnmcli device wifi connect <SSID>\n```\n\n最后，测试连接：\n\n```sh\nping baidu.com -c 3\n```\n\n## 安装桌面环境\n\n我选择的桌面环境为：Xorg + SDDM + KDE Plasma。\n\n### 安装显示驱动\n\n先安装核显的驱动，保证能够正常进入桌面环境，然后再考虑独显的事情。  \n我的 CPU 是 AMD 的，因此核显驱动选择 `xf86-video-amdgpu`：\n\n```sh\npacman -S xf86-video-amdgpu\n```\n\n### 安装 Xorg\n\n```sh\npacman -S xorg\n```\n\n### 安装 SDDM\n\n```sh\npacman -S sddm sddm-kcm\n```\n\n### 安装 KDE Plasma 及其配套软件\n\n```sh\npacman -S plasma kde-applications\n```\n\n然后自信重启。如果能够正常进入图形化的登陆界面，说明配置正常。\n\n### 中文化桌面环境\n\n直接在 KDE 自带的系统设置里面设置即可。重启生效。\n\n### 其他\n\n注意记得将“点击文件或文件夹时”设置为“选中它们”，否则可能会导致文件操作不符合习惯。\n\n从此以后的配置改用管理员账户（而非 Root 账户），因此某些命令可能需要加上 `sudo`。\n\n## AUR Helper\n\nAUR 是 ArchLinux 的一大竞争力，很多优秀的软件都被放在 AUR 上。  \n我使用的 AUR Helper 是 pikaur。它不在官方的软件仓库里面。具体安装过程和配置可参考[项目的 GitHub 页面](https://github.com/actionless/pikaur)。  \n建议安装后额外运行一下：\n\n```sh\nsudo pacman -S asp python-pysocks\n```\n\n## 中文输入法\n\n采用的方案为 [Fcitx5](https://wiki.archlinux.org/title/Fcitx5_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 下的中文输入插件。\n\n输入以下命令：\n\n```sh\nsudo pacman -S fcitx5-im fcitx5-qt fcitx5-gtk fcitx5-chinese-addons fcitx5-configtool fcitx5-pinyin-zhwiki\n```\n\n并将以下内容输入到文件 `~/.pam_environment` 中（如果没有，就新建一个）\n\n```sh\nGTK_IM_MODULE DEFAULT=fcitx\nQT_IM_MODULE  DEFAULT=fcitx\nXMODIFIERS    DEFAULT=@im=fcitx\nINPUT_METHOD  DEFAULT=fcitx\nSDL_IM_MODULE DEFAULT=fcitx\n```\n\n然后运行 fcitx5 配置，“添加输入法”里面找到拼音，点击“添加”。另外建议多看看其他按钮，看一下有些什么可以调教的。\n\n如果重启电脑后发现输入法没有运行，“系统设置”->“开机与关机”->“添加”->“添加应用”，找到“Fcitx 5”，点确定。\n\n## 双显卡切换\n\n我的电脑是 AMD 的核显和 RTX 2060MQ 的独显，采用的是独显做大部分显示，仅需要时手动使用核显的思路。\n\n采用的切换方案是 [PRIME](https://wiki.archlinux.org/title/PRIME)。\n\n首先需要安装驱动，这里为了性能，使用 Nivida 的闭源驱动 `nvidia`：\n\n```sh\nsudo pacman -S nvidia nvidia-prime\n```\n\n另外可以考虑安装以下验证用的软件包 `mesa-demos`：\n\n```sh\nsudo pacman -S mesa-demos\n```\n\n重启电脑，现在输入这两个命令验证安装是否正确：\n```sh\nglxinfo | grep \"OpenGL render\" # OpenGL renderer string: AMD RENOIR (DRM 3.41.0, 5.13.13-arch1-1, LLVM 12.0.1)\nprime-run glxinfo | grep \"OpenGL render\" # OpenGL renderer string: NVIDIA GeForce RTX 2060 with Max-Q Design/PCIe/SSE2\n```\n\n如果安装正确，以后启动应用时在其前面加上 `prime-run` 就可以切换到独显来渲染了。\n\n## 蓝牙\n\n参考[官方指南](https://wiki.archlinux.org/title/Bluetooth_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87))。\n\n安装软件包：\n\n```sh\nsudo pacman -S bluez bluez-utils bluedevil\n```\n\n然后启用蓝牙服务：\n\n```sh\nsudo systemctl start bluetooth.service\nsudo systemctl enable bluetooth.service\n```\n\n此时电脑的状态栏会出现蓝牙的图标。  \n\n对于蓝牙耳机，应该再额外执行以下命令：\n\n```sh\nsudo pacman -S pulseaudio-bluetooth\n```","source":"_posts/archlinux-ins.md","raw":"---\ntitle: ArchLinux/Windows 双系统安装记录\ndate: 2021-09-06 15:01:37\ntags: \n- Linux\n- ArchLinux\n- 双系统\ncategories:\n- 调教电脑\n---\n\n离我第一次入坑 [ArchLinux](https://wiki.archlinux.org/title/Main_page_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 已有将近三年之久，期间我已经重装 Arch 不下十次了，但是却一直没有记录自己是怎么装的。正好，这次我的笔记本拿去维修了，维修点表示需要重装系统，这意味着本子拿回来之后，我得重装我的 Arch，我也借此机会，记录一下自己 Arch 的重装过程。\n<!-- more -->\n\n# 准备工作\n\n**特别提醒**：对于双系统玩家，强烈建议先安装 Windows，再去安装 Linux。\n\n需要准备以下材料：\n\n- 一台电脑（废话）；\n- 网络连接（本文采用无线网络）；\n- ArchLinux 启动盘一枚（我用的是 USB 启动介质）；\n    - 听到 @dingyx99 大佬介绍了一个东西叫做 [Ventory](https://www.ventoy.net/cn/index.html)，可以不需要另外弄启动盘，直接在电脑划出一个分区就行了，后面试试。\n- 一台具有网络浏览器的设备，方便在安装的时候查看 [ArchWiki](https://wiki.archlinux.org)上的[攻略](https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87))；\n    - 非必需，玩得转的童鞋也可以考虑按照攻略上的说法，使用安装环境的[Lynx](https://lynx.invisible-island.net/lynx_help/Lynx_users_guide.html)来浏览攻略。\n\n同时（双系统玩家）不要忘记在 Windows 下用系统自带的“磁盘管理”工具提前为 Linux 准备好一块空白分区（不要格式化）。\n\n# 安装基本系统\n\n这一部分的内容，基本按照 [ArchWiki](https://wiki.archlinux.org)上的[攻略](https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 来做即可。\n\n## 进入 Live 环境\n\n插入安装介质，并在电脑**刚刚按下开机键**的时候设法进入启动菜单，选中你的安装介质，按回车。  \n例如：我的笔记本是 ROG 的幻 14，安装介质是一枚金士顿的 U 盘，我就在开机键按下之后，屏幕刚刚开始显示败家眼的图标时按下 Esc 键（这个键对于不同设备可能不一样）进入启动菜单。  \n注意：对于 Windows 10/11 用户，如果电脑屏幕下半部分出现了几个圆点转圈圈，那么恭喜你，等着 Windows 开机然后重启吧（悲\n\n进入安装介质以后，会提示选择引导加载程序，直接默认（第一个）选项 `Arch Linux install medium` 回车就好。如果屏幕闪过大量文字后，清屏，显示一些 `Arch Linux...` 开头，`root@archiso ~ #` 结尾且后面有一个光标闪烁，恭喜你成功启动到 Live 环境。\n\n## 检查引导模式\n\n输入以下内容：\n\n```sh\nls /sys/firmware/efi/efivars\n```\n\n如果命令正常输出了目录下的东西（可能会很多，占满整个屏幕），那么你的系统就是以 UEFI 模式引导的。否则，如果输出诸如 `No such file or directory` 之类的错误信息，你的系统可能是以 BIOS 等其他模式引导的。  \n我的电脑下这个命令正常输出，因此判定我的系统以 UEFI 模式引导。下文的所有步骤，均基于这个结果来操作。\n\n## 连接到互联网\n\n幻 14 似乎没有网线接口，因此这里直接用无线网络\\~  \n使用 [iwd](https://wiki.archlinux.org/title/Iwd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 来连接到网络。输入 `iwctl`，如果屏幕显示 `[iwd]#` 则正常进入 iwd 的交互界面。输入 `device list`，即可查看所有可用的网络设备。我这里显示只有一个无线网卡 `wlan0`。下文中，将使用 `<device>`表示在这一步中你选用的无线设备。  \n输入 `station <device> scan` 以使设备扫描可用的网络，输入 `station <device> get-networks` 来获取周围可用的 WiFi 的名称。选取你所希望使用的那个 WiFi，其名称记为 `<SSID>`，输入 `station <device> connect <SSID>`，并输入密码（如果有），即可连接到 WiFi，然后按 Ctrl-D 退出 iwd。  \n建议在退出 iwd 之后使用 `ping` 验证一下网络连接：输入 `ping <URL> -c 3`，其中 `<URL>` 是你可以正常访问的网络的网址（不要带上 `http://` 或是 `https://`），如果输出包含形如 `xx bytes from xxx: icmp_seq=xxx ttl=xxx time=xxx` 的内容，说明网络连接正常，可以进入下一步骤。\n\n## 更新系统时间\n\n输入 `timedatectl set-ntp true`，并按下回车。\n\n## 建立硬盘分区\n\n建议事先阅读[官方教程的相关内容](https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%BB%BA%E7%AB%8B%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA)来了解大致信息。\n\n**风险警告**：此步骤的误操作，可能导致电脑无法进入系统或者 Windows 系统及数据丢失等严重后果，请仔细阅读官方教程，并查阅其他资料，确保你知道自己在做什么！\n\n输入 `lsblk` 可以查看各个存储设备和硬盘分区的简要情况，输入 `fdisk -l` 可以查看更加详细的内容。通过输出内容中各个分区/设备的大小，应该可以大致判断各个存储设备及其分区和其名称的对应关系。忽略 `rom`，`loop` 或者 `airoot` 结尾的设备，在其中找到你给 Linux 预留的空白存储空间，找到它对应的设备（例如，我的叫做`/dev/nvme0n1`），记为 `<disk>`，并留意其中是否已经包含一个类型为 `EFI System` 的分区（似乎 Windows 一般会自动创建这个分区）。  \n输入 `fdisk <disk>`，输入 `n` 来利用预留的空白存储空间创建一个新的分区，Partition number 和 First sector 直接使用默认数值即可，Last sector 默认会用完剩下全部的可用空间（你也可以使用`+xK,M,G,T,P`来手动指定大小），然后会提示该分区的类型。如果不是 `Linux filesystem` 请输入 `t`，然后输入刚刚新建的分区的编号，最后输入`20`，将其类型改变为 `Linux filesystem`，输入 `w` 来保存刚刚的修改，并退出 fdisk。\n\n## 格式化并挂载分区\n\n**风险警告**：此步骤的误操作，可能导致电脑无法进入系统或者 Windows 系统及数据丢失等严重后果，请仔细阅读官方教程，并查阅其他资料，确保你知道自己在做什么！\n\n找到刚刚用 fdisk 新建的分区（输入 `fdisk -l`，找到 `Linux filesystem` 类型的那个分区），其名字记为 `<part>`（我的电脑上，它是 `/dev/nvme0n1p7`），输入 `mkfs.ext4 <part>` 来格式化它。  \n然后输入 `mount <part> /mnt` 来挂载它，并找到上一节中提到的类型为 `EFI System` 的分区（记为 `<efi-part>`，在我的电脑上它是 `/dev/nvme0n1p1`），依次输入 `mkdir /mnt/boot` 和 `mount <efi-part> /mnt/boot`。\n\n## 安装系统到硬盘\n\n### 更换软件包管理器的下载源\n\n编辑文件 `/etc/pacman.d/mirrorlist`（新手推荐使用命令 `nano /etc/pacman.d/mirrorlist`），按照[TUNA 镜像站的说明](https://mirrors.tuna.tsinghua.edu.cn/help/archlinux/)，将 `Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch` 添加到刚刚的文件顶端（使用 nano 的话，直接把这段代码输入进去，然后按一下回车，Ctrl-O 保存，Ctrl-X 退出）。\n\n### 安装系统及软件到硬盘\n\n输入以下命令：\n\n```sh\npacstrap /mnt linux linux-firmware base iwd networkmanager nano grub efibootmgr os-prober ntfs-3g sudo\n```\n\n然后耐心等待软件包安装完成。\n\n## Fstab\n\n输入以下命令：\n\n```sh\ngenfstab -U /mnt >> /mnt/etc/fstab\n```\n\n然后再输入以下命令，查看生成文件是否正确：\n\n```sh\ncat /mnt/etc/fstab\n```\n\n## 进入新系统\n\n输入以下命令：\n\n```sh\narch-chroot /mnt\n```\n\n## 设置时区\n\n依次输入以下命令：\n\n```sh\nln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nhwclock --systohc\n```\n\n## 本地化\n\n**提示**：本步骤将会影响以后系统能否使用中文、会不会乱码等与本地化相关的事情。\n\n输入命令 `nano /etc/locale.gen`，然后搜索，并去掉以下内容前的`#`：\n\n```plain\nen_US.UTF-8\nen_SG.UTF-8\nzh_CN.UTF-8\nzh_CN.GBK\nzh_TW.UTF-8\n```\n\n**提示**：nano 中搜索的快捷键是 Ctrl-W。\n\n然后按 Ctrl-O 保存，Ctrl-X 退出，输入以下命令：\n\n```sh\nlocale-gen\necho \"LANG=en_SG.UTF-8\" >> /etc/locale.conf\n```\n\n## 网络配置\n\n选择一个你喜欢的主机名，记为`<hostname>`，然后执行命令：`echo <hostname> >> /etc/hostname`。  \n编辑 `/etc/hosts`（`nano /etc/hosts`），输入以下内容：\n\n```plain\n127.0.0.1   localhost\n::1         localhost\n127.0.1.1   <hostname>\n```\n\n按照官方教程的说法，我们需要在此时完成剩余的网络配置，包括安装软件和进行网络配置。而我们已经在[安装系统及软件到硬盘](#安装系统及软件到硬盘)这步完成了软件安装，且 NetworkManager 无法在此时完成配置，因此直接跳过，至下一步骤。\n\n## 修改 Root 密码\n\n默认的 Root 密码是随机生成的，在此我们需要手动更改，否则退出 Live 环境以后，我们将无法登录至 Root 账户（对于没有新建其他账户的电脑，这意味着无法进入系统）。  \n使用以下命令，按照提示修改 Root 密码（放心，不需要猜出原来的那个随机的密码）：\n\n```sh\npasswd\n```\n\n**警告**：如果比尔知道电脑的 Root 密码，那么理论上他可以对这台电脑做任何事，因此请保证你的 Root 密码有一定强度（但不要让你自己都记不住：稍后我们还要用）。\n\n## 安装引导程序\n\n**警告**：这个步骤至关重要，没能正确安装/配置引导程序可能导致 Linux，甚至可能是 Windows 系统无法启动。\n\n我使用 [GRUB 2](https://wiki.archlinux.org/title/GRUB_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 作为引导程序。它的依赖程序已经在[安装系统及软件到硬盘](#安装系统及软件到硬盘)中安装完成。执行以下命令来将 GRUB 安装到 EFI 分区：\n\n```sh\ngrub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB\n```\n\n如果提示 `No error reported.` 则安装正常。\n\n然后编辑文件 `/etc/default/grub` 并在文件结尾加上一行以下内容（来让 GRUB 探测 Windows 的存在）：\n\n```plain\nGRUB_DISABLE_OS_PROBER=false\n```\n\n然后运行以下命令生成 GRUB 主配置文件：\n\n```sh\ngrub-mkconfig -o /boot/grub/grub.cfg\n```\n\n## 重启\n\n按 Ctrl-D 退出新安装的系统，然后输入 `reboot`。不要忘记移除安装介质和在电脑启动的时候修改/选用正确的启动条目。  \n重启后，输入账户名：`root` 和刚刚修改的 Root 密码即可登录到新系统。\n\n至此，一个基本的 ArchLinux 操作系统就安装完成了——除了没有网络连接，以及图形化界面的支持。这些问题，我们将稍后逐步解决。\n\n# 配置新系统\n\n## 用户\n\n日常直接使用 Root 账户是极其危险的一件事，因此我们需要创建普通用户来使用 ArchLinux。\n\n### 新建用户\n\n选择一个你喜欢的名字，记为`<username>`。  \n创建用户（并为其创建主文件夹）：\n\n```sh\nuseradd -m <username>\n```\n\n然后修改其密码：\n\n```sh\npasswd <username>\n```\n\n### 修改权限\n\n将用户加入群组 `wheel`：\n\n```sh\nusermod -aG wheel <username>\n```\n\n然后允许该用户使用 `sudo`：首先运行命令`EDITOR=nano visudo`，然后找到行`# %wheel ALL=(ALL) ALL`，去掉前面的 `#`，保存，退出 nano。\n\n## 连接到网络\n\n使用 [NetworkManager](https://wiki.archlinux.org/title/NetworkManager_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87))：首先启用相关的系统服务：\n\n```sh\nsystemctl start NetworkManager.service\nsystemctl enable NetworkManager.service\n```\n\n然后查找附近的 WiFi：\n\n```sh\nnmcli device wifi list\n```\n\n假设要连接的 WiFi 名称为 `<SSID>`，密码为 `<password>`，连接至 WiFi：\n\n```sh\nnmcli device wifi connect <SSID> password <password>\n```\n\n或者该 WiFi 没有密码：\n\n```sh\nnmcli device wifi connect <SSID>\n```\n\n最后，测试连接：\n\n```sh\nping baidu.com -c 3\n```\n\n## 安装桌面环境\n\n我选择的桌面环境为：Xorg + SDDM + KDE Plasma。\n\n### 安装显示驱动\n\n先安装核显的驱动，保证能够正常进入桌面环境，然后再考虑独显的事情。  \n我的 CPU 是 AMD 的，因此核显驱动选择 `xf86-video-amdgpu`：\n\n```sh\npacman -S xf86-video-amdgpu\n```\n\n### 安装 Xorg\n\n```sh\npacman -S xorg\n```\n\n### 安装 SDDM\n\n```sh\npacman -S sddm sddm-kcm\n```\n\n### 安装 KDE Plasma 及其配套软件\n\n```sh\npacman -S plasma kde-applications\n```\n\n然后自信重启。如果能够正常进入图形化的登陆界面，说明配置正常。\n\n### 中文化桌面环境\n\n直接在 KDE 自带的系统设置里面设置即可。重启生效。\n\n### 其他\n\n注意记得将“点击文件或文件夹时”设置为“选中它们”，否则可能会导致文件操作不符合习惯。\n\n从此以后的配置改用管理员账户（而非 Root 账户），因此某些命令可能需要加上 `sudo`。\n\n## AUR Helper\n\nAUR 是 ArchLinux 的一大竞争力，很多优秀的软件都被放在 AUR 上。  \n我使用的 AUR Helper 是 pikaur。它不在官方的软件仓库里面。具体安装过程和配置可参考[项目的 GitHub 页面](https://github.com/actionless/pikaur)。  \n建议安装后额外运行一下：\n\n```sh\nsudo pacman -S asp python-pysocks\n```\n\n## 中文输入法\n\n采用的方案为 [Fcitx5](https://wiki.archlinux.org/title/Fcitx5_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) 下的中文输入插件。\n\n输入以下命令：\n\n```sh\nsudo pacman -S fcitx5-im fcitx5-qt fcitx5-gtk fcitx5-chinese-addons fcitx5-configtool fcitx5-pinyin-zhwiki\n```\n\n并将以下内容输入到文件 `~/.pam_environment` 中（如果没有，就新建一个）\n\n```sh\nGTK_IM_MODULE DEFAULT=fcitx\nQT_IM_MODULE  DEFAULT=fcitx\nXMODIFIERS    DEFAULT=@im=fcitx\nINPUT_METHOD  DEFAULT=fcitx\nSDL_IM_MODULE DEFAULT=fcitx\n```\n\n然后运行 fcitx5 配置，“添加输入法”里面找到拼音，点击“添加”。另外建议多看看其他按钮，看一下有些什么可以调教的。\n\n如果重启电脑后发现输入法没有运行，“系统设置”->“开机与关机”->“添加”->“添加应用”，找到“Fcitx 5”，点确定。\n\n## 双显卡切换\n\n我的电脑是 AMD 的核显和 RTX 2060MQ 的独显，采用的是独显做大部分显示，仅需要时手动使用核显的思路。\n\n采用的切换方案是 [PRIME](https://wiki.archlinux.org/title/PRIME)。\n\n首先需要安装驱动，这里为了性能，使用 Nivida 的闭源驱动 `nvidia`：\n\n```sh\nsudo pacman -S nvidia nvidia-prime\n```\n\n另外可以考虑安装以下验证用的软件包 `mesa-demos`：\n\n```sh\nsudo pacman -S mesa-demos\n```\n\n重启电脑，现在输入这两个命令验证安装是否正确：\n```sh\nglxinfo | grep \"OpenGL render\" # OpenGL renderer string: AMD RENOIR (DRM 3.41.0, 5.13.13-arch1-1, LLVM 12.0.1)\nprime-run glxinfo | grep \"OpenGL render\" # OpenGL renderer string: NVIDIA GeForce RTX 2060 with Max-Q Design/PCIe/SSE2\n```\n\n如果安装正确，以后启动应用时在其前面加上 `prime-run` 就可以切换到独显来渲染了。\n\n## 蓝牙\n\n参考[官方指南](https://wiki.archlinux.org/title/Bluetooth_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87))。\n\n安装软件包：\n\n```sh\nsudo pacman -S bluez bluez-utils bluedevil\n```\n\n然后启用蓝牙服务：\n\n```sh\nsudo systemctl start bluetooth.service\nsudo systemctl enable bluetooth.service\n```\n\n此时电脑的状态栏会出现蓝牙的图标。  \n\n对于蓝牙耳机，应该再额外执行以下命令：\n\n```sh\nsudo pacman -S pulseaudio-bluetooth\n```","slug":"archlinux-ins","published":1,"updated":"2021-09-06T07:01:37.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckta0ujxn0001hs3lge242s1k","content":"<p>离我第一次入坑 <a href=\"https://wiki.archlinux.org/title/Main_page_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">ArchLinux</a> 已有将近三年之久，期间我已经重装 Arch 不下十次了，但是却一直没有记录自己是怎么装的。正好，这次我的笔记本拿去维修了，维修点表示需要重装系统，这意味着本子拿回来之后，我得重装我的 Arch，我也借此机会，记录一下自己 Arch 的重装过程。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h1><p><strong>特别提醒</strong>：对于双系统玩家，强烈建议先安装 Windows，再去安装 Linux。</p>\n<p>需要准备以下材料：</p>\n<ul>\n<li>一台电脑（废话）；</li>\n<li>网络连接（本文采用无线网络）；</li>\n<li>ArchLinux 启动盘一枚（我用的是 USB 启动介质）；<ul>\n<li>听到 @dingyx99 大佬介绍了一个东西叫做 <a href=\"https://www.ventoy.net/cn/index.html\">Ventory</a>，可以不需要另外弄启动盘，直接在电脑划出一个分区就行了，后面试试。</li>\n</ul>\n</li>\n<li>一台具有网络浏览器的设备，方便在安装的时候查看 <a href=\"https://wiki.archlinux.org/\">ArchWiki</a>上的<a href=\"https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">攻略</a>；<ul>\n<li>非必需，玩得转的童鞋也可以考虑按照攻略上的说法，使用安装环境的<a href=\"https://lynx.invisible-island.net/lynx_help/Lynx_users_guide.html\">Lynx</a>来浏览攻略。</li>\n</ul>\n</li>\n</ul>\n<p>同时（双系统玩家）不要忘记在 Windows 下用系统自带的“磁盘管理”工具提前为 Linux 准备好一块空白分区（不要格式化）。</p>\n<h1 id=\"安装基本系统\"><a href=\"#安装基本系统\" class=\"headerlink\" title=\"安装基本系统\"></a>安装基本系统</h1><p>这一部分的内容，基本按照 <a href=\"https://wiki.archlinux.org/\">ArchWiki</a>上的<a href=\"https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">攻略</a> 来做即可。</p>\n<h2 id=\"进入-Live-环境\"><a href=\"#进入-Live-环境\" class=\"headerlink\" title=\"进入 Live 环境\"></a>进入 Live 环境</h2><p>插入安装介质，并在电脑<strong>刚刚按下开机键</strong>的时候设法进入启动菜单，选中你的安装介质，按回车。<br>例如：我的笔记本是 ROG 的幻 14，安装介质是一枚金士顿的 U 盘，我就在开机键按下之后，屏幕刚刚开始显示败家眼的图标时按下 Esc 键（这个键对于不同设备可能不一样）进入启动菜单。<br>注意：对于 Windows 10/11 用户，如果电脑屏幕下半部分出现了几个圆点转圈圈，那么恭喜你，等着 Windows 开机然后重启吧（悲</p>\n<p>进入安装介质以后，会提示选择引导加载程序，直接默认（第一个）选项 <code>Arch Linux install medium</code> 回车就好。如果屏幕闪过大量文字后，清屏，显示一些 <code>Arch Linux...</code> 开头，<code>root@archiso ~ #</code> 结尾且后面有一个光标闪烁，恭喜你成功启动到 Live 环境。</p>\n<h2 id=\"检查引导模式\"><a href=\"#检查引导模式\" class=\"headerlink\" title=\"检查引导模式\"></a>检查引导模式</h2><p>输入以下内容：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">ls /sys/firmware/efi/efivars<br></code></pre></td></tr></table></figure>\n\n<p>如果命令正常输出了目录下的东西（可能会很多，占满整个屏幕），那么你的系统就是以 UEFI 模式引导的。否则，如果输出诸如 <code>No such file or directory</code> 之类的错误信息，你的系统可能是以 BIOS 等其他模式引导的。<br>我的电脑下这个命令正常输出，因此判定我的系统以 UEFI 模式引导。下文的所有步骤，均基于这个结果来操作。</p>\n<h2 id=\"连接到互联网\"><a href=\"#连接到互联网\" class=\"headerlink\" title=\"连接到互联网\"></a>连接到互联网</h2><p>幻 14 似乎没有网线接口，因此这里直接用无线网络~<br>使用 <a href=\"https://wiki.archlinux.org/title/Iwd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">iwd</a> 来连接到网络。输入 <code>iwctl</code>，如果屏幕显示 <code>[iwd]#</code> 则正常进入 iwd 的交互界面。输入 <code>device list</code>，即可查看所有可用的网络设备。我这里显示只有一个无线网卡 <code>wlan0</code>。下文中，将使用 <code>&lt;device&gt;</code>表示在这一步中你选用的无线设备。<br>输入 <code>station &lt;device&gt; scan</code> 以使设备扫描可用的网络，输入 <code>station &lt;device&gt; get-networks</code> 来获取周围可用的 WiFi 的名称。选取你所希望使用的那个 WiFi，其名称记为 <code>&lt;SSID&gt;</code>，输入 <code>station &lt;device&gt; connect &lt;SSID&gt;</code>，并输入密码（如果有），即可连接到 WiFi，然后按 Ctrl-D 退出 iwd。<br>建议在退出 iwd 之后使用 <code>ping</code> 验证一下网络连接：输入 <code>ping &lt;URL&gt; -c 3</code>，其中 <code>&lt;URL&gt;</code> 是你可以正常访问的网络的网址（不要带上 <code>http://</code> 或是 <code>https://</code>），如果输出包含形如 <code>xx bytes from xxx: icmp_seq=xxx ttl=xxx time=xxx</code> 的内容，说明网络连接正常，可以进入下一步骤。</p>\n<h2 id=\"更新系统时间\"><a href=\"#更新系统时间\" class=\"headerlink\" title=\"更新系统时间\"></a>更新系统时间</h2><p>输入 <code>timedatectl set-ntp true</code>，并按下回车。</p>\n<h2 id=\"建立硬盘分区\"><a href=\"#建立硬盘分区\" class=\"headerlink\" title=\"建立硬盘分区\"></a>建立硬盘分区</h2><p>建议事先阅读<a href=\"https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%BB%BA%E7%AB%8B%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA\">官方教程的相关内容</a>来了解大致信息。</p>\n<p><strong>风险警告</strong>：此步骤的误操作，可能导致电脑无法进入系统或者 Windows 系统及数据丢失等严重后果，请仔细阅读官方教程，并查阅其他资料，确保你知道自己在做什么！</p>\n<p>输入 <code>lsblk</code> 可以查看各个存储设备和硬盘分区的简要情况，输入 <code>fdisk -l</code> 可以查看更加详细的内容。通过输出内容中各个分区/设备的大小，应该可以大致判断各个存储设备及其分区和其名称的对应关系。忽略 <code>rom</code>，<code>loop</code> 或者 <code>airoot</code> 结尾的设备，在其中找到你给 Linux 预留的空白存储空间，找到它对应的设备（例如，我的叫做<code>/dev/nvme0n1</code>），记为 <code>&lt;disk&gt;</code>，并留意其中是否已经包含一个类型为 <code>EFI System</code> 的分区（似乎 Windows 一般会自动创建这个分区）。<br>输入 <code>fdisk &lt;disk&gt;</code>，输入 <code>n</code> 来利用预留的空白存储空间创建一个新的分区，Partition number 和 First sector 直接使用默认数值即可，Last sector 默认会用完剩下全部的可用空间（你也可以使用<code>+xK,M,G,T,P</code>来手动指定大小），然后会提示该分区的类型。如果不是 <code>Linux filesystem</code> 请输入 <code>t</code>，然后输入刚刚新建的分区的编号，最后输入<code>20</code>，将其类型改变为 <code>Linux filesystem</code>，输入 <code>w</code> 来保存刚刚的修改，并退出 fdisk。</p>\n<h2 id=\"格式化并挂载分区\"><a href=\"#格式化并挂载分区\" class=\"headerlink\" title=\"格式化并挂载分区\"></a>格式化并挂载分区</h2><p><strong>风险警告</strong>：此步骤的误操作，可能导致电脑无法进入系统或者 Windows 系统及数据丢失等严重后果，请仔细阅读官方教程，并查阅其他资料，确保你知道自己在做什么！</p>\n<p>找到刚刚用 fdisk 新建的分区（输入 <code>fdisk -l</code>，找到 <code>Linux filesystem</code> 类型的那个分区），其名字记为 <code>&lt;part&gt;</code>（我的电脑上，它是 <code>/dev/nvme0n1p7</code>），输入 <code>mkfs.ext4 &lt;part&gt;</code> 来格式化它。<br>然后输入 <code>mount &lt;part&gt; /mnt</code> 来挂载它，并找到上一节中提到的类型为 <code>EFI System</code> 的分区（记为 <code>&lt;efi-part&gt;</code>，在我的电脑上它是 <code>/dev/nvme0n1p1</code>），依次输入 <code>mkdir /mnt/boot</code> 和 <code>mount &lt;efi-part&gt; /mnt/boot</code>。</p>\n<h2 id=\"安装系统到硬盘\"><a href=\"#安装系统到硬盘\" class=\"headerlink\" title=\"安装系统到硬盘\"></a>安装系统到硬盘</h2><h3 id=\"更换软件包管理器的下载源\"><a href=\"#更换软件包管理器的下载源\" class=\"headerlink\" title=\"更换软件包管理器的下载源\"></a>更换软件包管理器的下载源</h3><p>编辑文件 <code>/etc/pacman.d/mirrorlist</code>（新手推荐使用命令 <code>nano /etc/pacman.d/mirrorlist</code>），按照<a href=\"https://mirrors.tuna.tsinghua.edu.cn/help/archlinux/\">TUNA 镜像站的说明</a>，将 <code>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</code> 添加到刚刚的文件顶端（使用 nano 的话，直接把这段代码输入进去，然后按一下回车，Ctrl-O 保存，Ctrl-X 退出）。</p>\n<h3 id=\"安装系统及软件到硬盘\"><a href=\"#安装系统及软件到硬盘\" class=\"headerlink\" title=\"安装系统及软件到硬盘\"></a>安装系统及软件到硬盘</h3><p>输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacstrap /mnt linux linux-firmware base iwd networkmanager nano grub efibootmgr os-prober ntfs-3g sudo<br></code></pre></td></tr></table></figure>\n\n<p>然后耐心等待软件包安装完成。</p>\n<h2 id=\"Fstab\"><a href=\"#Fstab\" class=\"headerlink\" title=\"Fstab\"></a>Fstab</h2><p>输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab<br></code></pre></td></tr></table></figure>\n\n<p>然后再输入以下命令，查看生成文件是否正确：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">cat /mnt/etc/fstab<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"进入新系统\"><a href=\"#进入新系统\" class=\"headerlink\" title=\"进入新系统\"></a>进入新系统</h2><p>输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">arch-chroot /mnt<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"设置时区\"><a href=\"#设置时区\" class=\"headerlink\" title=\"设置时区\"></a>设置时区</h2><p>依次输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime<br>hwclock --systohc<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"本地化\"><a href=\"#本地化\" class=\"headerlink\" title=\"本地化\"></a>本地化</h2><p><strong>提示</strong>：本步骤将会影响以后系统能否使用中文、会不会乱码等与本地化相关的事情。</p>\n<p>输入命令 <code>nano /etc/locale.gen</code>，然后搜索，并去掉以下内容前的<code>#</code>：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">en_US.UTF-8<br>en_SG.UTF-8<br>zh_CN.UTF-8<br>zh_CN.GBK<br>zh_TW.UTF-8<br></code></pre></td></tr></table></figure>\n\n<p><strong>提示</strong>：nano 中搜索的快捷键是 Ctrl-W。</p>\n<p>然后按 Ctrl-O 保存，Ctrl-X 退出，输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">locale-gen<br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"LANG=en_SG.UTF-8\"</span> &gt;&gt; /etc/locale.conf<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"网络配置\"><a href=\"#网络配置\" class=\"headerlink\" title=\"网络配置\"></a>网络配置</h2><p>选择一个你喜欢的主机名，记为<code>&lt;hostname&gt;</code>，然后执行命令：<code>echo &lt;hostname&gt; &gt;&gt; /etc/hostname</code>。<br>编辑 <code>/etc/hosts</code>（<code>nano /etc/hosts</code>），输入以下内容：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">127.0.0.1   localhost<br>::1         localhost<br>127.0.1.1   &lt;hostname&gt;<br></code></pre></td></tr></table></figure>\n\n<p>按照官方教程的说法，我们需要在此时完成剩余的网络配置，包括安装软件和进行网络配置。而我们已经在<a href=\"#%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%BD%AF%E4%BB%B6%E5%88%B0%E7%A1%AC%E7%9B%98\">安装系统及软件到硬盘</a>这步完成了软件安装，且 NetworkManager 无法在此时完成配置，因此直接跳过，至下一步骤。</p>\n<h2 id=\"修改-Root-密码\"><a href=\"#修改-Root-密码\" class=\"headerlink\" title=\"修改 Root 密码\"></a>修改 Root 密码</h2><p>默认的 Root 密码是随机生成的，在此我们需要手动更改，否则退出 Live 环境以后，我们将无法登录至 Root 账户（对于没有新建其他账户的电脑，这意味着无法进入系统）。<br>使用以下命令，按照提示修改 Root 密码（放心，不需要猜出原来的那个随机的密码）：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">passwd<br></code></pre></td></tr></table></figure>\n\n<p><strong>警告</strong>：如果比尔知道电脑的 Root 密码，那么理论上他可以对这台电脑做任何事，因此请保证你的 Root 密码有一定强度（但不要让你自己都记不住：稍后我们还要用）。</p>\n<h2 id=\"安装引导程序\"><a href=\"#安装引导程序\" class=\"headerlink\" title=\"安装引导程序\"></a>安装引导程序</h2><p><strong>警告</strong>：这个步骤至关重要，没能正确安装/配置引导程序可能导致 Linux，甚至可能是 Windows 系统无法启动。</p>\n<p>我使用 <a href=\"https://wiki.archlinux.org/title/GRUB_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">GRUB 2</a> 作为引导程序。它的依赖程序已经在<a href=\"#%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%BD%AF%E4%BB%B6%E5%88%B0%E7%A1%AC%E7%9B%98\">安装系统及软件到硬盘</a>中安装完成。执行以下命令来将 GRUB 安装到 EFI 分区：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB<br></code></pre></td></tr></table></figure>\n\n<p>如果提示 <code>No error reported.</code> 则安装正常。</p>\n<p>然后编辑文件 <code>/etc/default/grub</code> 并在文件结尾加上一行以下内容（来让 GRUB 探测 Windows 的存在）：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">GRUB_DISABLE_OS_PROBER=false<br></code></pre></td></tr></table></figure>\n\n<p>然后运行以下命令生成 GRUB 主配置文件：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">grub-mkconfig -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"重启\"><a href=\"#重启\" class=\"headerlink\" title=\"重启\"></a>重启</h2><p>按 Ctrl-D 退出新安装的系统，然后输入 <code>reboot</code>。不要忘记移除安装介质和在电脑启动的时候修改/选用正确的启动条目。<br>重启后，输入账户名：<code>root</code> 和刚刚修改的 Root 密码即可登录到新系统。</p>\n<p>至此，一个基本的 ArchLinux 操作系统就安装完成了——除了没有网络连接，以及图形化界面的支持。这些问题，我们将稍后逐步解决。</p>\n<h1 id=\"配置新系统\"><a href=\"#配置新系统\" class=\"headerlink\" title=\"配置新系统\"></a>配置新系统</h1><h2 id=\"用户\"><a href=\"#用户\" class=\"headerlink\" title=\"用户\"></a>用户</h2><p>日常直接使用 Root 账户是极其危险的一件事，因此我们需要创建普通用户来使用 ArchLinux。</p>\n<h3 id=\"新建用户\"><a href=\"#新建用户\" class=\"headerlink\" title=\"新建用户\"></a>新建用户</h3><p>选择一个你喜欢的名字，记为<code>&lt;username&gt;</code>。<br>创建用户（并为其创建主文件夹）：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">useradd -m &lt;username&gt;<br></code></pre></td></tr></table></figure>\n\n<p>然后修改其密码：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">passwd &lt;username&gt;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"修改权限\"><a href=\"#修改权限\" class=\"headerlink\" title=\"修改权限\"></a>修改权限</h3><p>将用户加入群组 <code>wheel</code>：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">usermod -aG wheel &lt;username&gt;<br></code></pre></td></tr></table></figure>\n\n<p>然后允许该用户使用 <code>sudo</code>：首先运行命令<code>EDITOR=nano visudo</code>，然后找到行<code># %wheel ALL=(ALL) ALL</code>，去掉前面的 <code>#</code>，保存，退出 nano。</p>\n<h2 id=\"连接到网络\"><a href=\"#连接到网络\" class=\"headerlink\" title=\"连接到网络\"></a>连接到网络</h2><p>使用 <a href=\"https://wiki.archlinux.org/title/NetworkManager_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">NetworkManager</a>：首先启用相关的系统服务：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">systemctl start NetworkManager.service<br>systemctl <span class=\"hljs-built_in\">enable</span> NetworkManager.service<br></code></pre></td></tr></table></figure>\n\n<p>然后查找附近的 WiFi：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">nmcli device wifi list<br></code></pre></td></tr></table></figure>\n\n<p>假设要连接的 WiFi 名称为 <code>&lt;SSID&gt;</code>，密码为 <code>&lt;password&gt;</code>，连接至 WiFi：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">nmcli device wifi connect &lt;SSID&gt; password &lt;password&gt;<br></code></pre></td></tr></table></figure>\n\n<p>或者该 WiFi 没有密码：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">nmcli device wifi connect &lt;SSID&gt;<br></code></pre></td></tr></table></figure>\n\n<p>最后，测试连接：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">ping baidu.com -c 3<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"安装桌面环境\"><a href=\"#安装桌面环境\" class=\"headerlink\" title=\"安装桌面环境\"></a>安装桌面环境</h2><p>我选择的桌面环境为：Xorg + SDDM + KDE Plasma。</p>\n<h3 id=\"安装显示驱动\"><a href=\"#安装显示驱动\" class=\"headerlink\" title=\"安装显示驱动\"></a>安装显示驱动</h3><p>先安装核显的驱动，保证能够正常进入桌面环境，然后再考虑独显的事情。<br>我的 CPU 是 AMD 的，因此核显驱动选择 <code>xf86-video-amdgpu</code>：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacman -S xf86-video-amdgpu<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"安装-Xorg\"><a href=\"#安装-Xorg\" class=\"headerlink\" title=\"安装 Xorg\"></a>安装 Xorg</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacman -S xorg<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"安装-SDDM\"><a href=\"#安装-SDDM\" class=\"headerlink\" title=\"安装 SDDM\"></a>安装 SDDM</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacman -S sddm sddm-kcm<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"安装-KDE-Plasma-及其配套软件\"><a href=\"#安装-KDE-Plasma-及其配套软件\" class=\"headerlink\" title=\"安装 KDE Plasma 及其配套软件\"></a>安装 KDE Plasma 及其配套软件</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacman -S plasma kde-applications<br></code></pre></td></tr></table></figure>\n\n<p>然后自信重启。如果能够正常进入图形化的登陆界面，说明配置正常。</p>\n<h3 id=\"中文化桌面环境\"><a href=\"#中文化桌面环境\" class=\"headerlink\" title=\"中文化桌面环境\"></a>中文化桌面环境</h3><p>直接在 KDE 自带的系统设置里面设置即可。重启生效。</p>\n<h3 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h3><p>注意记得将“点击文件或文件夹时”设置为“选中它们”，否则可能会导致文件操作不符合习惯。</p>\n<p>从此以后的配置改用管理员账户（而非 Root 账户），因此某些命令可能需要加上 <code>sudo</code>。</p>\n<h2 id=\"AUR-Helper\"><a href=\"#AUR-Helper\" class=\"headerlink\" title=\"AUR Helper\"></a>AUR Helper</h2><p>AUR 是 ArchLinux 的一大竞争力，很多优秀的软件都被放在 AUR 上。<br>我使用的 AUR Helper 是 pikaur。它不在官方的软件仓库里面。具体安装过程和配置可参考<a href=\"https://github.com/actionless/pikaur\">项目的 GitHub 页面</a>。<br>建议安装后额外运行一下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S asp python-pysocks<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"中文输入法\"><a href=\"#中文输入法\" class=\"headerlink\" title=\"中文输入法\"></a>中文输入法</h2><p>采用的方案为 <a href=\"https://wiki.archlinux.org/title/Fcitx5_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">Fcitx5</a> 下的中文输入插件。</p>\n<p>输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S fcitx5-im fcitx5-qt fcitx5-gtk fcitx5-chinese-addons fcitx5-configtool fcitx5-pinyin-zhwiki<br></code></pre></td></tr></table></figure>\n\n<p>并将以下内容输入到文件 <code>~/.pam_environment</code> 中（如果没有，就新建一个）</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">GTK_IM_MODULE DEFAULT=fcitx<br>QT_IM_MODULE  DEFAULT=fcitx<br>XMODIFIERS    DEFAULT=@im=fcitx<br>INPUT_METHOD  DEFAULT=fcitx<br>SDL_IM_MODULE DEFAULT=fcitx<br></code></pre></td></tr></table></figure>\n\n<p>然后运行 fcitx5 配置，“添加输入法”里面找到拼音，点击“添加”。另外建议多看看其他按钮，看一下有些什么可以调教的。</p>\n<p>如果重启电脑后发现输入法没有运行，“系统设置”-&gt;“开机与关机”-&gt;“添加”-&gt;“添加应用”，找到“Fcitx 5”，点确定。</p>\n<h2 id=\"双显卡切换\"><a href=\"#双显卡切换\" class=\"headerlink\" title=\"双显卡切换\"></a>双显卡切换</h2><p>我的电脑是 AMD 的核显和 RTX 2060MQ 的独显，采用的是独显做大部分显示，仅需要时手动使用核显的思路。</p>\n<p>采用的切换方案是 <a href=\"https://wiki.archlinux.org/title/PRIME\">PRIME</a>。</p>\n<p>首先需要安装驱动，这里为了性能，使用 Nivida 的闭源驱动 <code>nvidia</code>：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S nvidia nvidia-prime<br></code></pre></td></tr></table></figure>\n\n<p>另外可以考虑安装以下验证用的软件包 <code>mesa-demos</code>：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S mesa-demos<br></code></pre></td></tr></table></figure>\n\n<p>重启电脑，现在输入这两个命令验证安装是否正确：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">glxinfo | grep <span class=\"hljs-string\">\"OpenGL render\"</span> <span class=\"hljs-comment\"># OpenGL renderer string: AMD RENOIR (DRM 3.41.0, 5.13.13-arch1-1, LLVM 12.0.1)</span><br>prime-run glxinfo | grep <span class=\"hljs-string\">\"OpenGL render\"</span> <span class=\"hljs-comment\"># OpenGL renderer string: NVIDIA GeForce RTX 2060 with Max-Q Design/PCIe/SSE2</span><br></code></pre></td></tr></table></figure>\n\n<p>如果安装正确，以后启动应用时在其前面加上 <code>prime-run</code> 就可以切换到独显来渲染了。</p>\n<h2 id=\"蓝牙\"><a href=\"#蓝牙\" class=\"headerlink\" title=\"蓝牙\"></a>蓝牙</h2><p>参考<a href=\"https://wiki.archlinux.org/title/Bluetooth_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">官方指南</a>。</p>\n<p>安装软件包：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S bluez bluez-utils bluedevil<br></code></pre></td></tr></table></figure>\n\n<p>然后启用蓝牙服务：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo systemctl start bluetooth.service<br>sudo systemctl <span class=\"hljs-built_in\">enable</span> bluetooth.service<br></code></pre></td></tr></table></figure>\n\n<p>此时电脑的状态栏会出现蓝牙的图标。  </p>\n<p>对于蓝牙耳机，应该再额外执行以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S pulseaudio-bluetooth<br></code></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>离我第一次入坑 <a href=\"https://wiki.archlinux.org/title/Main_page_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">ArchLinux</a> 已有将近三年之久，期间我已经重装 Arch 不下十次了，但是却一直没有记录自己是怎么装的。正好，这次我的笔记本拿去维修了，维修点表示需要重装系统，这意味着本子拿回来之后，我得重装我的 Arch，我也借此机会，记录一下自己 Arch 的重装过程。</p>","more":"<h1 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h1><p><strong>特别提醒</strong>：对于双系统玩家，强烈建议先安装 Windows，再去安装 Linux。</p>\n<p>需要准备以下材料：</p>\n<ul>\n<li>一台电脑（废话）；</li>\n<li>网络连接（本文采用无线网络）；</li>\n<li>ArchLinux 启动盘一枚（我用的是 USB 启动介质）；<ul>\n<li>听到 @dingyx99 大佬介绍了一个东西叫做 <a href=\"https://www.ventoy.net/cn/index.html\">Ventory</a>，可以不需要另外弄启动盘，直接在电脑划出一个分区就行了，后面试试。</li>\n</ul>\n</li>\n<li>一台具有网络浏览器的设备，方便在安装的时候查看 <a href=\"https://wiki.archlinux.org/\">ArchWiki</a>上的<a href=\"https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">攻略</a>；<ul>\n<li>非必需，玩得转的童鞋也可以考虑按照攻略上的说法，使用安装环境的<a href=\"https://lynx.invisible-island.net/lynx_help/Lynx_users_guide.html\">Lynx</a>来浏览攻略。</li>\n</ul>\n</li>\n</ul>\n<p>同时（双系统玩家）不要忘记在 Windows 下用系统自带的“磁盘管理”工具提前为 Linux 准备好一块空白分区（不要格式化）。</p>\n<h1 id=\"安装基本系统\"><a href=\"#安装基本系统\" class=\"headerlink\" title=\"安装基本系统\"></a>安装基本系统</h1><p>这一部分的内容，基本按照 <a href=\"https://wiki.archlinux.org/\">ArchWiki</a>上的<a href=\"https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">攻略</a> 来做即可。</p>\n<h2 id=\"进入-Live-环境\"><a href=\"#进入-Live-环境\" class=\"headerlink\" title=\"进入 Live 环境\"></a>进入 Live 环境</h2><p>插入安装介质，并在电脑<strong>刚刚按下开机键</strong>的时候设法进入启动菜单，选中你的安装介质，按回车。<br>例如：我的笔记本是 ROG 的幻 14，安装介质是一枚金士顿的 U 盘，我就在开机键按下之后，屏幕刚刚开始显示败家眼的图标时按下 Esc 键（这个键对于不同设备可能不一样）进入启动菜单。<br>注意：对于 Windows 10/11 用户，如果电脑屏幕下半部分出现了几个圆点转圈圈，那么恭喜你，等着 Windows 开机然后重启吧（悲</p>\n<p>进入安装介质以后，会提示选择引导加载程序，直接默认（第一个）选项 <code>Arch Linux install medium</code> 回车就好。如果屏幕闪过大量文字后，清屏，显示一些 <code>Arch Linux...</code> 开头，<code>root@archiso ~ #</code> 结尾且后面有一个光标闪烁，恭喜你成功启动到 Live 环境。</p>\n<h2 id=\"检查引导模式\"><a href=\"#检查引导模式\" class=\"headerlink\" title=\"检查引导模式\"></a>检查引导模式</h2><p>输入以下内容：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">ls /sys/firmware/efi/efivars<br></code></pre></td></tr></table></figure>\n\n<p>如果命令正常输出了目录下的东西（可能会很多，占满整个屏幕），那么你的系统就是以 UEFI 模式引导的。否则，如果输出诸如 <code>No such file or directory</code> 之类的错误信息，你的系统可能是以 BIOS 等其他模式引导的。<br>我的电脑下这个命令正常输出，因此判定我的系统以 UEFI 模式引导。下文的所有步骤，均基于这个结果来操作。</p>\n<h2 id=\"连接到互联网\"><a href=\"#连接到互联网\" class=\"headerlink\" title=\"连接到互联网\"></a>连接到互联网</h2><p>幻 14 似乎没有网线接口，因此这里直接用无线网络~<br>使用 <a href=\"https://wiki.archlinux.org/title/Iwd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">iwd</a> 来连接到网络。输入 <code>iwctl</code>，如果屏幕显示 <code>[iwd]#</code> 则正常进入 iwd 的交互界面。输入 <code>device list</code>，即可查看所有可用的网络设备。我这里显示只有一个无线网卡 <code>wlan0</code>。下文中，将使用 <code>&lt;device&gt;</code>表示在这一步中你选用的无线设备。<br>输入 <code>station &lt;device&gt; scan</code> 以使设备扫描可用的网络，输入 <code>station &lt;device&gt; get-networks</code> 来获取周围可用的 WiFi 的名称。选取你所希望使用的那个 WiFi，其名称记为 <code>&lt;SSID&gt;</code>，输入 <code>station &lt;device&gt; connect &lt;SSID&gt;</code>，并输入密码（如果有），即可连接到 WiFi，然后按 Ctrl-D 退出 iwd。<br>建议在退出 iwd 之后使用 <code>ping</code> 验证一下网络连接：输入 <code>ping &lt;URL&gt; -c 3</code>，其中 <code>&lt;URL&gt;</code> 是你可以正常访问的网络的网址（不要带上 <code>http://</code> 或是 <code>https://</code>），如果输出包含形如 <code>xx bytes from xxx: icmp_seq=xxx ttl=xxx time=xxx</code> 的内容，说明网络连接正常，可以进入下一步骤。</p>\n<h2 id=\"更新系统时间\"><a href=\"#更新系统时间\" class=\"headerlink\" title=\"更新系统时间\"></a>更新系统时间</h2><p>输入 <code>timedatectl set-ntp true</code>，并按下回车。</p>\n<h2 id=\"建立硬盘分区\"><a href=\"#建立硬盘分区\" class=\"headerlink\" title=\"建立硬盘分区\"></a>建立硬盘分区</h2><p>建议事先阅读<a href=\"https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%BB%BA%E7%AB%8B%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA\">官方教程的相关内容</a>来了解大致信息。</p>\n<p><strong>风险警告</strong>：此步骤的误操作，可能导致电脑无法进入系统或者 Windows 系统及数据丢失等严重后果，请仔细阅读官方教程，并查阅其他资料，确保你知道自己在做什么！</p>\n<p>输入 <code>lsblk</code> 可以查看各个存储设备和硬盘分区的简要情况，输入 <code>fdisk -l</code> 可以查看更加详细的内容。通过输出内容中各个分区/设备的大小，应该可以大致判断各个存储设备及其分区和其名称的对应关系。忽略 <code>rom</code>，<code>loop</code> 或者 <code>airoot</code> 结尾的设备，在其中找到你给 Linux 预留的空白存储空间，找到它对应的设备（例如，我的叫做<code>/dev/nvme0n1</code>），记为 <code>&lt;disk&gt;</code>，并留意其中是否已经包含一个类型为 <code>EFI System</code> 的分区（似乎 Windows 一般会自动创建这个分区）。<br>输入 <code>fdisk &lt;disk&gt;</code>，输入 <code>n</code> 来利用预留的空白存储空间创建一个新的分区，Partition number 和 First sector 直接使用默认数值即可，Last sector 默认会用完剩下全部的可用空间（你也可以使用<code>+xK,M,G,T,P</code>来手动指定大小），然后会提示该分区的类型。如果不是 <code>Linux filesystem</code> 请输入 <code>t</code>，然后输入刚刚新建的分区的编号，最后输入<code>20</code>，将其类型改变为 <code>Linux filesystem</code>，输入 <code>w</code> 来保存刚刚的修改，并退出 fdisk。</p>\n<h2 id=\"格式化并挂载分区\"><a href=\"#格式化并挂载分区\" class=\"headerlink\" title=\"格式化并挂载分区\"></a>格式化并挂载分区</h2><p><strong>风险警告</strong>：此步骤的误操作，可能导致电脑无法进入系统或者 Windows 系统及数据丢失等严重后果，请仔细阅读官方教程，并查阅其他资料，确保你知道自己在做什么！</p>\n<p>找到刚刚用 fdisk 新建的分区（输入 <code>fdisk -l</code>，找到 <code>Linux filesystem</code> 类型的那个分区），其名字记为 <code>&lt;part&gt;</code>（我的电脑上，它是 <code>/dev/nvme0n1p7</code>），输入 <code>mkfs.ext4 &lt;part&gt;</code> 来格式化它。<br>然后输入 <code>mount &lt;part&gt; /mnt</code> 来挂载它，并找到上一节中提到的类型为 <code>EFI System</code> 的分区（记为 <code>&lt;efi-part&gt;</code>，在我的电脑上它是 <code>/dev/nvme0n1p1</code>），依次输入 <code>mkdir /mnt/boot</code> 和 <code>mount &lt;efi-part&gt; /mnt/boot</code>。</p>\n<h2 id=\"安装系统到硬盘\"><a href=\"#安装系统到硬盘\" class=\"headerlink\" title=\"安装系统到硬盘\"></a>安装系统到硬盘</h2><h3 id=\"更换软件包管理器的下载源\"><a href=\"#更换软件包管理器的下载源\" class=\"headerlink\" title=\"更换软件包管理器的下载源\"></a>更换软件包管理器的下载源</h3><p>编辑文件 <code>/etc/pacman.d/mirrorlist</code>（新手推荐使用命令 <code>nano /etc/pacman.d/mirrorlist</code>），按照<a href=\"https://mirrors.tuna.tsinghua.edu.cn/help/archlinux/\">TUNA 镜像站的说明</a>，将 <code>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</code> 添加到刚刚的文件顶端（使用 nano 的话，直接把这段代码输入进去，然后按一下回车，Ctrl-O 保存，Ctrl-X 退出）。</p>\n<h3 id=\"安装系统及软件到硬盘\"><a href=\"#安装系统及软件到硬盘\" class=\"headerlink\" title=\"安装系统及软件到硬盘\"></a>安装系统及软件到硬盘</h3><p>输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacstrap /mnt linux linux-firmware base iwd networkmanager nano grub efibootmgr os-prober ntfs-3g sudo<br></code></pre></td></tr></table></figure>\n\n<p>然后耐心等待软件包安装完成。</p>\n<h2 id=\"Fstab\"><a href=\"#Fstab\" class=\"headerlink\" title=\"Fstab\"></a>Fstab</h2><p>输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab<br></code></pre></td></tr></table></figure>\n\n<p>然后再输入以下命令，查看生成文件是否正确：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">cat /mnt/etc/fstab<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"进入新系统\"><a href=\"#进入新系统\" class=\"headerlink\" title=\"进入新系统\"></a>进入新系统</h2><p>输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">arch-chroot /mnt<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"设置时区\"><a href=\"#设置时区\" class=\"headerlink\" title=\"设置时区\"></a>设置时区</h2><p>依次输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime<br>hwclock --systohc<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"本地化\"><a href=\"#本地化\" class=\"headerlink\" title=\"本地化\"></a>本地化</h2><p><strong>提示</strong>：本步骤将会影响以后系统能否使用中文、会不会乱码等与本地化相关的事情。</p>\n<p>输入命令 <code>nano /etc/locale.gen</code>，然后搜索，并去掉以下内容前的<code>#</code>：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">en_US.UTF-8<br>en_SG.UTF-8<br>zh_CN.UTF-8<br>zh_CN.GBK<br>zh_TW.UTF-8<br></code></pre></td></tr></table></figure>\n\n<p><strong>提示</strong>：nano 中搜索的快捷键是 Ctrl-W。</p>\n<p>然后按 Ctrl-O 保存，Ctrl-X 退出，输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">locale-gen<br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"LANG=en_SG.UTF-8\"</span> &gt;&gt; /etc/locale.conf<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"网络配置\"><a href=\"#网络配置\" class=\"headerlink\" title=\"网络配置\"></a>网络配置</h2><p>选择一个你喜欢的主机名，记为<code>&lt;hostname&gt;</code>，然后执行命令：<code>echo &lt;hostname&gt; &gt;&gt; /etc/hostname</code>。<br>编辑 <code>/etc/hosts</code>（<code>nano /etc/hosts</code>），输入以下内容：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">127.0.0.1   localhost<br>::1         localhost<br>127.0.1.1   &lt;hostname&gt;<br></code></pre></td></tr></table></figure>\n\n<p>按照官方教程的说法，我们需要在此时完成剩余的网络配置，包括安装软件和进行网络配置。而我们已经在<a href=\"#%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%BD%AF%E4%BB%B6%E5%88%B0%E7%A1%AC%E7%9B%98\">安装系统及软件到硬盘</a>这步完成了软件安装，且 NetworkManager 无法在此时完成配置，因此直接跳过，至下一步骤。</p>\n<h2 id=\"修改-Root-密码\"><a href=\"#修改-Root-密码\" class=\"headerlink\" title=\"修改 Root 密码\"></a>修改 Root 密码</h2><p>默认的 Root 密码是随机生成的，在此我们需要手动更改，否则退出 Live 环境以后，我们将无法登录至 Root 账户（对于没有新建其他账户的电脑，这意味着无法进入系统）。<br>使用以下命令，按照提示修改 Root 密码（放心，不需要猜出原来的那个随机的密码）：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">passwd<br></code></pre></td></tr></table></figure>\n\n<p><strong>警告</strong>：如果比尔知道电脑的 Root 密码，那么理论上他可以对这台电脑做任何事，因此请保证你的 Root 密码有一定强度（但不要让你自己都记不住：稍后我们还要用）。</p>\n<h2 id=\"安装引导程序\"><a href=\"#安装引导程序\" class=\"headerlink\" title=\"安装引导程序\"></a>安装引导程序</h2><p><strong>警告</strong>：这个步骤至关重要，没能正确安装/配置引导程序可能导致 Linux，甚至可能是 Windows 系统无法启动。</p>\n<p>我使用 <a href=\"https://wiki.archlinux.org/title/GRUB_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">GRUB 2</a> 作为引导程序。它的依赖程序已经在<a href=\"#%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%BD%AF%E4%BB%B6%E5%88%B0%E7%A1%AC%E7%9B%98\">安装系统及软件到硬盘</a>中安装完成。执行以下命令来将 GRUB 安装到 EFI 分区：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB<br></code></pre></td></tr></table></figure>\n\n<p>如果提示 <code>No error reported.</code> 则安装正常。</p>\n<p>然后编辑文件 <code>/etc/default/grub</code> 并在文件结尾加上一行以下内容（来让 GRUB 探测 Windows 的存在）：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">GRUB_DISABLE_OS_PROBER=false<br></code></pre></td></tr></table></figure>\n\n<p>然后运行以下命令生成 GRUB 主配置文件：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">grub-mkconfig -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"重启\"><a href=\"#重启\" class=\"headerlink\" title=\"重启\"></a>重启</h2><p>按 Ctrl-D 退出新安装的系统，然后输入 <code>reboot</code>。不要忘记移除安装介质和在电脑启动的时候修改/选用正确的启动条目。<br>重启后，输入账户名：<code>root</code> 和刚刚修改的 Root 密码即可登录到新系统。</p>\n<p>至此，一个基本的 ArchLinux 操作系统就安装完成了——除了没有网络连接，以及图形化界面的支持。这些问题，我们将稍后逐步解决。</p>\n<h1 id=\"配置新系统\"><a href=\"#配置新系统\" class=\"headerlink\" title=\"配置新系统\"></a>配置新系统</h1><h2 id=\"用户\"><a href=\"#用户\" class=\"headerlink\" title=\"用户\"></a>用户</h2><p>日常直接使用 Root 账户是极其危险的一件事，因此我们需要创建普通用户来使用 ArchLinux。</p>\n<h3 id=\"新建用户\"><a href=\"#新建用户\" class=\"headerlink\" title=\"新建用户\"></a>新建用户</h3><p>选择一个你喜欢的名字，记为<code>&lt;username&gt;</code>。<br>创建用户（并为其创建主文件夹）：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">useradd -m &lt;username&gt;<br></code></pre></td></tr></table></figure>\n\n<p>然后修改其密码：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">passwd &lt;username&gt;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"修改权限\"><a href=\"#修改权限\" class=\"headerlink\" title=\"修改权限\"></a>修改权限</h3><p>将用户加入群组 <code>wheel</code>：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">usermod -aG wheel &lt;username&gt;<br></code></pre></td></tr></table></figure>\n\n<p>然后允许该用户使用 <code>sudo</code>：首先运行命令<code>EDITOR=nano visudo</code>，然后找到行<code># %wheel ALL=(ALL) ALL</code>，去掉前面的 <code>#</code>，保存，退出 nano。</p>\n<h2 id=\"连接到网络\"><a href=\"#连接到网络\" class=\"headerlink\" title=\"连接到网络\"></a>连接到网络</h2><p>使用 <a href=\"https://wiki.archlinux.org/title/NetworkManager_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">NetworkManager</a>：首先启用相关的系统服务：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">systemctl start NetworkManager.service<br>systemctl <span class=\"hljs-built_in\">enable</span> NetworkManager.service<br></code></pre></td></tr></table></figure>\n\n<p>然后查找附近的 WiFi：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">nmcli device wifi list<br></code></pre></td></tr></table></figure>\n\n<p>假设要连接的 WiFi 名称为 <code>&lt;SSID&gt;</code>，密码为 <code>&lt;password&gt;</code>，连接至 WiFi：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">nmcli device wifi connect &lt;SSID&gt; password &lt;password&gt;<br></code></pre></td></tr></table></figure>\n\n<p>或者该 WiFi 没有密码：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">nmcli device wifi connect &lt;SSID&gt;<br></code></pre></td></tr></table></figure>\n\n<p>最后，测试连接：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">ping baidu.com -c 3<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"安装桌面环境\"><a href=\"#安装桌面环境\" class=\"headerlink\" title=\"安装桌面环境\"></a>安装桌面环境</h2><p>我选择的桌面环境为：Xorg + SDDM + KDE Plasma。</p>\n<h3 id=\"安装显示驱动\"><a href=\"#安装显示驱动\" class=\"headerlink\" title=\"安装显示驱动\"></a>安装显示驱动</h3><p>先安装核显的驱动，保证能够正常进入桌面环境，然后再考虑独显的事情。<br>我的 CPU 是 AMD 的，因此核显驱动选择 <code>xf86-video-amdgpu</code>：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacman -S xf86-video-amdgpu<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"安装-Xorg\"><a href=\"#安装-Xorg\" class=\"headerlink\" title=\"安装 Xorg\"></a>安装 Xorg</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacman -S xorg<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"安装-SDDM\"><a href=\"#安装-SDDM\" class=\"headerlink\" title=\"安装 SDDM\"></a>安装 SDDM</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacman -S sddm sddm-kcm<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"安装-KDE-Plasma-及其配套软件\"><a href=\"#安装-KDE-Plasma-及其配套软件\" class=\"headerlink\" title=\"安装 KDE Plasma 及其配套软件\"></a>安装 KDE Plasma 及其配套软件</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pacman -S plasma kde-applications<br></code></pre></td></tr></table></figure>\n\n<p>然后自信重启。如果能够正常进入图形化的登陆界面，说明配置正常。</p>\n<h3 id=\"中文化桌面环境\"><a href=\"#中文化桌面环境\" class=\"headerlink\" title=\"中文化桌面环境\"></a>中文化桌面环境</h3><p>直接在 KDE 自带的系统设置里面设置即可。重启生效。</p>\n<h3 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h3><p>注意记得将“点击文件或文件夹时”设置为“选中它们”，否则可能会导致文件操作不符合习惯。</p>\n<p>从此以后的配置改用管理员账户（而非 Root 账户），因此某些命令可能需要加上 <code>sudo</code>。</p>\n<h2 id=\"AUR-Helper\"><a href=\"#AUR-Helper\" class=\"headerlink\" title=\"AUR Helper\"></a>AUR Helper</h2><p>AUR 是 ArchLinux 的一大竞争力，很多优秀的软件都被放在 AUR 上。<br>我使用的 AUR Helper 是 pikaur。它不在官方的软件仓库里面。具体安装过程和配置可参考<a href=\"https://github.com/actionless/pikaur\">项目的 GitHub 页面</a>。<br>建议安装后额外运行一下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S asp python-pysocks<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"中文输入法\"><a href=\"#中文输入法\" class=\"headerlink\" title=\"中文输入法\"></a>中文输入法</h2><p>采用的方案为 <a href=\"https://wiki.archlinux.org/title/Fcitx5_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">Fcitx5</a> 下的中文输入插件。</p>\n<p>输入以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S fcitx5-im fcitx5-qt fcitx5-gtk fcitx5-chinese-addons fcitx5-configtool fcitx5-pinyin-zhwiki<br></code></pre></td></tr></table></figure>\n\n<p>并将以下内容输入到文件 <code>~/.pam_environment</code> 中（如果没有，就新建一个）</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">GTK_IM_MODULE DEFAULT=fcitx<br>QT_IM_MODULE  DEFAULT=fcitx<br>XMODIFIERS    DEFAULT=@im=fcitx<br>INPUT_METHOD  DEFAULT=fcitx<br>SDL_IM_MODULE DEFAULT=fcitx<br></code></pre></td></tr></table></figure>\n\n<p>然后运行 fcitx5 配置，“添加输入法”里面找到拼音，点击“添加”。另外建议多看看其他按钮，看一下有些什么可以调教的。</p>\n<p>如果重启电脑后发现输入法没有运行，“系统设置”-&gt;“开机与关机”-&gt;“添加”-&gt;“添加应用”，找到“Fcitx 5”，点确定。</p>\n<h2 id=\"双显卡切换\"><a href=\"#双显卡切换\" class=\"headerlink\" title=\"双显卡切换\"></a>双显卡切换</h2><p>我的电脑是 AMD 的核显和 RTX 2060MQ 的独显，采用的是独显做大部分显示，仅需要时手动使用核显的思路。</p>\n<p>采用的切换方案是 <a href=\"https://wiki.archlinux.org/title/PRIME\">PRIME</a>。</p>\n<p>首先需要安装驱动，这里为了性能，使用 Nivida 的闭源驱动 <code>nvidia</code>：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S nvidia nvidia-prime<br></code></pre></td></tr></table></figure>\n\n<p>另外可以考虑安装以下验证用的软件包 <code>mesa-demos</code>：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S mesa-demos<br></code></pre></td></tr></table></figure>\n\n<p>重启电脑，现在输入这两个命令验证安装是否正确：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">glxinfo | grep <span class=\"hljs-string\">\"OpenGL render\"</span> <span class=\"hljs-comment\"># OpenGL renderer string: AMD RENOIR (DRM 3.41.0, 5.13.13-arch1-1, LLVM 12.0.1)</span><br>prime-run glxinfo | grep <span class=\"hljs-string\">\"OpenGL render\"</span> <span class=\"hljs-comment\"># OpenGL renderer string: NVIDIA GeForce RTX 2060 with Max-Q Design/PCIe/SSE2</span><br></code></pre></td></tr></table></figure>\n\n<p>如果安装正确，以后启动应用时在其前面加上 <code>prime-run</code> 就可以切换到独显来渲染了。</p>\n<h2 id=\"蓝牙\"><a href=\"#蓝牙\" class=\"headerlink\" title=\"蓝牙\"></a>蓝牙</h2><p>参考<a href=\"https://wiki.archlinux.org/title/Bluetooth_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">官方指南</a>。</p>\n<p>安装软件包：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S bluez bluez-utils bluedevil<br></code></pre></td></tr></table></figure>\n\n<p>然后启用蓝牙服务：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo systemctl start bluetooth.service<br>sudo systemctl <span class=\"hljs-built_in\">enable</span> bluetooth.service<br></code></pre></td></tr></table></figure>\n\n<p>此时电脑的状态栏会出现蓝牙的图标。  </p>\n<p>对于蓝牙耳机，应该再额外执行以下命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S pulseaudio-bluetooth<br></code></pre></td></tr></table></figure>"},{"title":"ArchLinux 软件记录","date":"2021-09-07T11:40:14.000Z","_content":"\n这里主要记录一些玩 ArchLinux 时，推荐用的一些软件，或者是一些常用软件遇到问题的解决方案。\n<!-- more -->\n\n# KDE 相关软件\n## KDE Connect\n\n我个人最喜欢的一个软件，只要连接到同一局域网（似乎包括手机开热点），真正意义上的手机电脑同步协作（除了不能投屏）。\n\n### 无法访问手机文件系统\n\n这个功能是由软件包 `sshfs` 提供的，如果没有安装，请安装：\n\n```sh\nsudo pacman -S sshfs\n```\n\n## Okular\n\n### 不显示 PDF 等文件中的中文\n\n```sh\nsudo pacman -S poppler-data\n```\n\n## Ark\n\n### 无法打开 rar 压缩文件\n\n```sh\nsudo pacman -S unrar\n```\n\n## Discover\n\n### 无法确定发行版的后端\n\n```sh\nsudo pacman -S archlinux-appstream-data packagekit-qt5 flatpak fwupd\n```\n\n# 腾讯系软件\n\n## QQ\n\nQQ 似乎总是会出点问题。建议安装 Tim：\n\n```sh\npikaur -S com.qq.tim.spark\n```","source":"_posts/archlinux-softwares.md","raw":"---\ntitle: ArchLinux 软件记录\ndate: 2021-09-07 19:40:14\ntags:\n- Linux\n- ArchLinux\n- 软件\ncategories:\n- 调教电脑\n---\n\n这里主要记录一些玩 ArchLinux 时，推荐用的一些软件，或者是一些常用软件遇到问题的解决方案。\n<!-- more -->\n\n# KDE 相关软件\n## KDE Connect\n\n我个人最喜欢的一个软件，只要连接到同一局域网（似乎包括手机开热点），真正意义上的手机电脑同步协作（除了不能投屏）。\n\n### 无法访问手机文件系统\n\n这个功能是由软件包 `sshfs` 提供的，如果没有安装，请安装：\n\n```sh\nsudo pacman -S sshfs\n```\n\n## Okular\n\n### 不显示 PDF 等文件中的中文\n\n```sh\nsudo pacman -S poppler-data\n```\n\n## Ark\n\n### 无法打开 rar 压缩文件\n\n```sh\nsudo pacman -S unrar\n```\n\n## Discover\n\n### 无法确定发行版的后端\n\n```sh\nsudo pacman -S archlinux-appstream-data packagekit-qt5 flatpak fwupd\n```\n\n# 腾讯系软件\n\n## QQ\n\nQQ 似乎总是会出点问题。建议安装 Tim：\n\n```sh\npikaur -S com.qq.tim.spark\n```","slug":"archlinux-softwares","published":1,"updated":"2021-09-07T11:40:14.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckta0ujxq0002hs3la2ledc11","content":"<p>这里主要记录一些玩 ArchLinux 时，推荐用的一些软件，或者是一些常用软件遇到问题的解决方案。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"KDE-相关软件\"><a href=\"#KDE-相关软件\" class=\"headerlink\" title=\"KDE 相关软件\"></a>KDE 相关软件</h1><h2 id=\"KDE-Connect\"><a href=\"#KDE-Connect\" class=\"headerlink\" title=\"KDE Connect\"></a>KDE Connect</h2><p>我个人最喜欢的一个软件，只要连接到同一局域网（似乎包括手机开热点），真正意义上的手机电脑同步协作（除了不能投屏）。</p>\n<h3 id=\"无法访问手机文件系统\"><a href=\"#无法访问手机文件系统\" class=\"headerlink\" title=\"无法访问手机文件系统\"></a>无法访问手机文件系统</h3><p>这个功能是由软件包 <code>sshfs</code> 提供的，如果没有安装，请安装：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S sshfs<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"Okular\"><a href=\"#Okular\" class=\"headerlink\" title=\"Okular\"></a>Okular</h2><h3 id=\"不显示-PDF-等文件中的中文\"><a href=\"#不显示-PDF-等文件中的中文\" class=\"headerlink\" title=\"不显示 PDF 等文件中的中文\"></a>不显示 PDF 等文件中的中文</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S poppler-data<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"Ark\"><a href=\"#Ark\" class=\"headerlink\" title=\"Ark\"></a>Ark</h2><h3 id=\"无法打开-rar-压缩文件\"><a href=\"#无法打开-rar-压缩文件\" class=\"headerlink\" title=\"无法打开 rar 压缩文件\"></a>无法打开 rar 压缩文件</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S unrar<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"Discover\"><a href=\"#Discover\" class=\"headerlink\" title=\"Discover\"></a>Discover</h2><h3 id=\"无法确定发行版的后端\"><a href=\"#无法确定发行版的后端\" class=\"headerlink\" title=\"无法确定发行版的后端\"></a>无法确定发行版的后端</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S archlinux-appstream-data packagekit-qt5 flatpak fwupd<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"腾讯系软件\"><a href=\"#腾讯系软件\" class=\"headerlink\" title=\"腾讯系软件\"></a>腾讯系软件</h1><h2 id=\"QQ\"><a href=\"#QQ\" class=\"headerlink\" title=\"QQ\"></a>QQ</h2><p>QQ 似乎总是会出点问题。建议安装 Tim：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pikaur -S com.qq.tim.spark<br></code></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>这里主要记录一些玩 ArchLinux 时，推荐用的一些软件，或者是一些常用软件遇到问题的解决方案。</p>","more":"<h1 id=\"KDE-相关软件\"><a href=\"#KDE-相关软件\" class=\"headerlink\" title=\"KDE 相关软件\"></a>KDE 相关软件</h1><h2 id=\"KDE-Connect\"><a href=\"#KDE-Connect\" class=\"headerlink\" title=\"KDE Connect\"></a>KDE Connect</h2><p>我个人最喜欢的一个软件，只要连接到同一局域网（似乎包括手机开热点），真正意义上的手机电脑同步协作（除了不能投屏）。</p>\n<h3 id=\"无法访问手机文件系统\"><a href=\"#无法访问手机文件系统\" class=\"headerlink\" title=\"无法访问手机文件系统\"></a>无法访问手机文件系统</h3><p>这个功能是由软件包 <code>sshfs</code> 提供的，如果没有安装，请安装：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S sshfs<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"Okular\"><a href=\"#Okular\" class=\"headerlink\" title=\"Okular\"></a>Okular</h2><h3 id=\"不显示-PDF-等文件中的中文\"><a href=\"#不显示-PDF-等文件中的中文\" class=\"headerlink\" title=\"不显示 PDF 等文件中的中文\"></a>不显示 PDF 等文件中的中文</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S poppler-data<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"Ark\"><a href=\"#Ark\" class=\"headerlink\" title=\"Ark\"></a>Ark</h2><h3 id=\"无法打开-rar-压缩文件\"><a href=\"#无法打开-rar-压缩文件\" class=\"headerlink\" title=\"无法打开 rar 压缩文件\"></a>无法打开 rar 压缩文件</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S unrar<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"Discover\"><a href=\"#Discover\" class=\"headerlink\" title=\"Discover\"></a>Discover</h2><h3 id=\"无法确定发行版的后端\"><a href=\"#无法确定发行版的后端\" class=\"headerlink\" title=\"无法确定发行版的后端\"></a>无法确定发行版的后端</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">sudo pacman -S archlinux-appstream-data packagekit-qt5 flatpak fwupd<br></code></pre></td></tr></table></figure>\n\n<h1 id=\"腾讯系软件\"><a href=\"#腾讯系软件\" class=\"headerlink\" title=\"腾讯系软件\"></a>腾讯系软件</h1><h2 id=\"QQ\"><a href=\"#QQ\" class=\"headerlink\" title=\"QQ\"></a>QQ</h2><p>QQ 似乎总是会出点问题。建议安装 Tim：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sh\">pikaur -S com.qq.tim.spark<br></code></pre></td></tr></table></figure>"},{"title":"Hello World","mathjax":true,"date":"2021-09-05T07:01:37.000Z","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n<!-- more -->\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n\n\n### LaTeX Support\n\nI think this site supports $\\LaTeX$, isn't it?\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\nmathjax: true\ndate: 2021-09-05 15:01:37\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n<!-- more -->\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n\n\n### LaTeX Support\n\nI think this site supports $\\LaTeX$, isn't it?\n","slug":"hello-world","published":1,"updated":"2021-09-05T07:01:37.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckta0ujxu0005hs3l36ap85ji","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<span id=\"more\"></span>\n\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo new <span class=\"hljs-string\">\"My New Post\"</span><br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo server<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo generate<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo deploy<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n<h3 id=\"LaTeX-Support\"><a href=\"#LaTeX-Support\" class=\"headerlink\" title=\"LaTeX Support\"></a>LaTeX Support</h3><p>I think this site supports <mjx-container class=\"MathJax\" jax=\"SVG\"><svg style=\"vertical-align: -0.488ex\" xmlns=\"http://www.w3.org/2000/svg\" width=\"6.293ex\" height=\"2.108ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -716.3 2781.3 931.8\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\"></path></g><g data-mml-node=\"mspace\" transform=\"translate(681,0)\"></g><g data-mml-node=\"mpadded\" transform=\"translate(356,0)\"><g transform=\"translate(0,210)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mstyle\" transform=\"scale(0.707)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\"></path></g></g></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(886.3,0)\"></g><g data-mml-node=\"mi\" transform=\"translate(716.3,0)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\"></path></g><g data-mml-node=\"mspace\" transform=\"translate(1420.3,0)\"></g><g data-mml-node=\"mpadded\" transform=\"translate(1280.3,0)\"><g transform=\"translate(0,-215.5)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D438\" d=\"M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z\"></path></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(2044.3,0)\"></g><g data-mml-node=\"mi\" transform=\"translate(1929.3,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\"></path></g></g></g></svg></mjx-container>, isn’t it?</p>\n","site":{"data":{}},"excerpt":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>","more":"<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo new <span class=\"hljs-string\">\"My New Post\"</span><br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo server<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo generate<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ hexo deploy<br></code></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n<h3 id=\"LaTeX-Support\"><a href=\"#LaTeX-Support\" class=\"headerlink\" title=\"LaTeX Support\"></a>LaTeX Support</h3><p>I think this site supports <mjx-container class=\"MathJax\" jax=\"SVG\"><svg style=\"vertical-align: -0.488ex\" xmlns=\"http://www.w3.org/2000/svg\" width=\"6.293ex\" height=\"2.108ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -716.3 2781.3 931.8\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\"></path></g><g data-mml-node=\"mspace\" transform=\"translate(681,0)\"></g><g data-mml-node=\"mpadded\" transform=\"translate(356,0)\"><g transform=\"translate(0,210)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mstyle\" transform=\"scale(0.707)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\"></path></g></g></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(886.3,0)\"></g><g data-mml-node=\"mi\" transform=\"translate(716.3,0)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\"></path></g><g data-mml-node=\"mspace\" transform=\"translate(1420.3,0)\"></g><g data-mml-node=\"mpadded\" transform=\"translate(1280.3,0)\"><g transform=\"translate(0,-215.5)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D438\" d=\"M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z\"></path></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(2044.3,0)\"></g><g data-mml-node=\"mi\" transform=\"translate(1929.3,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\"></path></g></g></g></svg></mjx-container>, isn’t it?</p>"}],"PostAsset":[],"PostCategory":[{"post_id":"ckta0ujxn0001hs3lge242s1k","category_id":"ckta0ujxs0003hs3l5c0pgzf5","_id":"ckta0ujxy0008hs3l21fl36fr"},{"post_id":"ckta0ujxq0002hs3la2ledc11","category_id":"ckta0ujxs0003hs3l5c0pgzf5","_id":"ckta0ujxy000ahs3l5arnhcfo"}],"PostTag":[{"post_id":"ckta0ujxn0001hs3lge242s1k","tag_id":"ckta0ujxt0004hs3l7m714hke","_id":"ckta0ujxz000chs3lhdn5ezor"},{"post_id":"ckta0ujxn0001hs3lge242s1k","tag_id":"ckta0ujxv0007hs3l89d00veo","_id":"ckta0ujxz000dhs3lggqga9ev"},{"post_id":"ckta0ujxn0001hs3lge242s1k","tag_id":"ckta0ujxy0009hs3l9j6d3ybi","_id":"ckta0ujxz000fhs3l1lmz33we"},{"post_id":"ckta0ujxq0002hs3la2ledc11","tag_id":"ckta0ujxt0004hs3l7m714hke","_id":"ckta0ujy0000hhs3lcvtt4aek"},{"post_id":"ckta0ujxq0002hs3la2ledc11","tag_id":"ckta0ujxv0007hs3l89d00veo","_id":"ckta0ujy0000ihs3l6v473ntb"},{"post_id":"ckta0ujxq0002hs3la2ledc11","tag_id":"ckta0ujxz000ghs3lfabk4eam","_id":"ckta0ujy0000jhs3lcy111sg3"}],"Tag":[{"name":"Linux","_id":"ckta0ujxt0004hs3l7m714hke"},{"name":"ArchLinux","_id":"ckta0ujxv0007hs3l89d00veo"},{"name":"双系统","_id":"ckta0ujxy0009hs3l9j6d3ybi"},{"name":"软件","_id":"ckta0ujxz000ghs3lfabk4eam"}]}}